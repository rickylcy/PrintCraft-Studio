"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/print/route";
exports.ids = ["app/api/print/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/next@14.2.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprint%2Froute&page=%2Fapi%2Fprint%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprint%2Froute.js&appDir=%2FUsers%2Fricky%2FDesktop%2FPrintCraft-Studio%2Fapps%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fricky%2FDesktop%2FPrintCraft-Studio%2Fapps%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/next@14.2.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprint%2Froute&page=%2Fapi%2Fprint%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprint%2Froute.js&appDir=%2FUsers%2Fricky%2FDesktop%2FPrintCraft-Studio%2Fapps%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fricky%2FDesktop%2FPrintCraft-Studio%2Fapps%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/../../node_modules/.pnpm/next@14.2.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/../../node_modules/.pnpm/next@14.2.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/../../node_modules/.pnpm/next@14.2.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_ricky_Desktop_PrintCraft_Studio_apps_web_app_api_print_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/print/route.js */ \"(rsc)/./app/api/print/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/print/route\",\n        pathname: \"/api/print\",\n        filename: \"route\",\n        bundlePath: \"app/api/print/route\"\n    },\n    resolvedPagePath: \"/Users/ricky/Desktop/PrintCraft-Studio/apps/web/app/api/print/route.js\",\n    nextConfigOutput,\n    userland: _Users_ricky_Desktop_PrintCraft_Studio_apps_web_app_api_print_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/print/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTQuMi41X3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xX19yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1hcHAtbG9hZGVyLmpzP25hbWU9YXBwJTJGYXBpJTJGcHJpbnQlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnByaW50JTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGcHJpbnQlMkZyb3V0ZS5qcyZhcHBEaXI9JTJGVXNlcnMlMkZyaWNreSUyRkRlc2t0b3AlMkZQcmludENyYWZ0LVN0dWRpbyUyRmFwcHMlMkZ3ZWIlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGcmlja3klMkZEZXNrdG9wJTJGUHJpbnRDcmFmdC1TdHVkaW8lMkZhcHBzJTJGd2ViJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNzQjtBQUNuRztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL0BwcmludGNyYWZ0L3dlYi8/ZjEyNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvcmlja3kvRGVza3RvcC9QcmludENyYWZ0LVN0dWRpby9hcHBzL3dlYi9hcHAvYXBpL3ByaW50L3JvdXRlLmpzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9wcmludC9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3ByaW50XCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9wcmludC9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy9yaWNreS9EZXNrdG9wL1ByaW50Q3JhZnQtU3R1ZGlvL2FwcHMvd2ViL2FwcC9hcGkvcHJpbnQvcm91dGUuanNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3ByaW50L3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/next@14.2.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprint%2Froute&page=%2Fapi%2Fprint%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprint%2Froute.js&appDir=%2FUsers%2Fricky%2FDesktop%2FPrintCraft-Studio%2Fapps%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fricky%2FDesktop%2FPrintCraft-Studio%2Fapps%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/print/route.js":
/*!********************************!*\
  !*** ./app/api/print/route.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/../../node_modules/.pnpm/next@14.2.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./lib/db.js\");\n/* harmony import */ var _printcraft_encoders__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @printcraft/encoders */ \"(rsc)/../../packages/encoders/index.js\");\n\n // ok if you’re already using Prisma\n // your shared package (OK to keep)\n// (we won’t import canvas or native deps)\n// --- helpers ----------------------------------------------------------------\nfunction fallbackWidthDots(type) {\n    // Safe defaults:\n    // ESC/POS 80mm @203dpi ≈ 576dots; ZPL typical 4\" @203dpi ≈ 812.. but a lot of profiles\n    // use 600; keep 600 default unless your profiles say otherwise.\n    return type === \"zpl\" ? 600 : 576;\n}\nfunction escapeZpl(s = \"\") {\n    return String(s).replace(/([\\\\^])/g, \"\\\\$1\");\n}\n// Minimal block -> ZPL (text only for now)\nfunction blocksToZpl(blocks, { widthDots = 600, margins = {\n    left: 0,\n    top: 0\n} }) {\n    let out = `^XA\\n^PW${widthDots}\\n`;\n    for (const b of blocks || []){\n        if (b.type !== \"text\") continue;\n        const x = Math.max(0, Math.round((b.x || 0) + (margins.left || 0)));\n        const y = Math.max(0, Math.round((b.y || 0) + (margins.top || 0)));\n        const fs = Math.max(12, Math.round(b.fontSize || 24)); // dots\n        out += `^FO${x},${y}^A0N,${fs},${fs}^FD${escapeZpl(b.text || \"\")}^FS\\n`;\n    }\n    out += \"^XZ\";\n    return Buffer.from(out, \"ascii\");\n}\n// Minimal block -> ESC/POS (lines only; sorted by Y)\nfunction blocksToEscposBytes(blocks, { size = {\n    w: 1,\n    h: 1\n} }) {\n    const lines = (blocks || []).filter((b)=>b.type === \"text\").sort((a, b)=>(a.y || 0) - (b.y || 0)).map((b)=>b.text || \"\");\n    // Use the helper you already have; falls back to a raster note for 1.5×\n    return _printcraft_encoders__WEBPACK_IMPORTED_MODULE_2__.escpos.buildReceipt({\n        title: \"Preview\",\n        lines,\n        size\n    });\n}\n// Load a printer profile if you have that table; otherwise return null.\n// Shape we expect: { widthDots, marginLeftDots, marginTopDots, ... }\nasync function getProfile(profileId) {\n    if (!profileId || !_lib_db__WEBPACK_IMPORTED_MODULE_1__.prisma?.printerProfile) return null;\n    try {\n        const p = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.prisma.printerProfile.findUnique({\n            where: {\n                id: profileId\n            }\n        });\n        return p || null;\n    } catch  {\n        return null;\n    }\n}\n// --- route ------------------------------------------------------------------\nasync function POST(req) {\n    try {\n        const body = await req.json();\n        const { type = \"escpos\", blocks = [], dry = true, profileId = null, printer = \"\", // optional extras you might be sending; ignored here:\n        templateId, data } = body || {};\n        // derive width/margins\n        const profile = await getProfile(profileId);\n        const widthDots = Number(profile?.widthDots) || fallbackWidthDots(type);\n        const margins = {\n            left: Number(profile?.marginLeftDots || 0),\n            right: Number(profile?.marginRightDots || 0),\n            top: Number(profile?.marginTopDots || 0),\n            bottom: Number(profile?.marginBottomDots || 0)\n        };\n        // build payload\n        let payload;\n        if (type === \"zpl\") {\n            payload = blocksToZpl(blocks, {\n                widthDots,\n                margins\n            });\n        } else {\n            // ESC/POS — use 1.5× as a nice preview size; tweak if you have a size per block\n            payload = blocksToEscposBytes(blocks, {\n                size: {\n                    w: 1,\n                    h: 1\n                }\n            });\n        }\n        if (dry) {\n            // preview only\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                ok: true,\n                bytes: payload.length\n            });\n        }\n        // send to Agent\n        const agentUrl = process.env.AGENT_URL || \"http://localhost:4747\";\n        const res = await fetch(`${agentUrl}/print`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                bytes: payload.toString(\"base64\"),\n                type,\n                ...printer ? {\n                    printer\n                } : {}\n            })\n        });\n        const agent = await res.json().catch(()=>({\n                ok: false,\n                error: \"Agent parse error\"\n            }));\n        if (!res.ok || !agent.ok) {\n            const errMsg = agent?.error || `Agent error (${res.status})`;\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                ok: false,\n                error: errMsg\n            }, {\n                status: 502\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            ok: true,\n            bytes: payload.length,\n            agent\n        });\n    } catch (e) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            ok: false,\n            error: String(e.message || e)\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O1lBQ2hDO1FBQ0Y7UUFFQSxNQUFNMEIsUUFBUSxNQUFNUCxJQUNqQnJCLElBQUksR0FDSjZCLEtBQUssQ0FBQyxJQUFPO2dCQUFFZixJQUFJO2dCQUFPZ0IsT0FBTztZQUFvQjtRQUN4RCxJQUFJLENBQUNULElBQUlQLEVBQUUsSUFBSSxDQUFDYyxNQUFNZCxFQUFFLEVBQUU7WUFDeEIsTUFBTWlCLFNBQVNILE9BQU9FLFNBQVMsQ0FBQyxhQUFhLEVBQUVULElBQUlXLE1BQU0sQ0FBQyxDQUFDLENBQUM7WUFDNUQsT0FBT2hGLHFEQUFZQSxDQUFDZ0QsSUFBSSxDQUFDO2dCQUFFYyxJQUFJO2dCQUFPZ0IsT0FBT0M7WUFBTyxHQUFHO2dCQUFFQyxRQUFRO1lBQUk7UUFDdkU7UUFFQSxPQUFPaEYscURBQVlBLENBQUNnRCxJQUFJLENBQUM7WUFBRWMsSUFBSTtZQUFNQyxPQUFPRixRQUFRRyxNQUFNO1lBQUVZO1FBQU07SUFDcEUsRUFBRSxPQUFPSyxHQUFHO1FBQ1YsT0FBT2pGLHFEQUFZQSxDQUFDZ0QsSUFBSSxDQUN0QjtZQUFFYyxJQUFJO1lBQU9nQixPQUFPdkUsT0FBTzBFLEVBQUVDLE9BQU8sSUFBSUQ7UUFBRyxHQUMzQztZQUFFRCxRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL0BwcmludGNyYWZ0L3dlYi8uL2FwcC9hcGkvcHJpbnQvcm91dGUuanM/NmI3NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcbmltcG9ydCB7IHByaXNtYSB9IGZyb20gXCJAL2xpYi9kYlwiOyAvLyBvayBpZiB5b3XigJlyZSBhbHJlYWR5IHVzaW5nIFByaXNtYVxuaW1wb3J0IHsgZXNjcG9zIH0gZnJvbSBcIkBwcmludGNyYWZ0L2VuY29kZXJzXCI7IC8vIHlvdXIgc2hhcmVkIHBhY2thZ2UgKE9LIHRvIGtlZXApXG4vLyAod2Ugd29u4oCZdCBpbXBvcnQgY2FudmFzIG9yIG5hdGl2ZSBkZXBzKVxuXG4vLyAtLS0gaGVscGVycyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmZ1bmN0aW9uIGZhbGxiYWNrV2lkdGhEb3RzKHR5cGUpIHtcbiAgLy8gU2FmZSBkZWZhdWx0czpcbiAgLy8gRVNDL1BPUyA4MG1tIEAyMDNkcGkg4omIIDU3NmRvdHM7IFpQTCB0eXBpY2FsIDRcIiBAMjAzZHBpIOKJiCA4MTIuLiBidXQgYSBsb3Qgb2YgcHJvZmlsZXNcbiAgLy8gdXNlIDYwMDsga2VlcCA2MDAgZGVmYXVsdCB1bmxlc3MgeW91ciBwcm9maWxlcyBzYXkgb3RoZXJ3aXNlLlxuICByZXR1cm4gdHlwZSA9PT0gXCJ6cGxcIiA/IDYwMCA6IDU3Njtcbn1cblxuZnVuY3Rpb24gZXNjYXBlWnBsKHMgPSBcIlwiKSB7XG4gIHJldHVybiBTdHJpbmcocykucmVwbGFjZSgvKFtcXFxcXl0pL2csIFwiXFxcXCQxXCIpO1xufVxuXG4vLyBNaW5pbWFsIGJsb2NrIC0+IFpQTCAodGV4dCBvbmx5IGZvciBub3cpXG5mdW5jdGlvbiBibG9ja3NUb1pwbChcbiAgYmxvY2tzLFxuICB7IHdpZHRoRG90cyA9IDYwMCwgbWFyZ2lucyA9IHsgbGVmdDogMCwgdG9wOiAwIH0gfVxuKSB7XG4gIGxldCBvdXQgPSBgXlhBXFxuXlBXJHt3aWR0aERvdHN9XFxuYDtcbiAgZm9yIChjb25zdCBiIG9mIGJsb2NrcyB8fCBbXSkge1xuICAgIGlmIChiLnR5cGUgIT09IFwidGV4dFwiKSBjb250aW51ZTtcbiAgICBjb25zdCB4ID0gTWF0aC5tYXgoMCwgTWF0aC5yb3VuZCgoYi54IHx8IDApICsgKG1hcmdpbnMubGVmdCB8fCAwKSkpO1xuICAgIGNvbnN0IHkgPSBNYXRoLm1heCgwLCBNYXRoLnJvdW5kKChiLnkgfHwgMCkgKyAobWFyZ2lucy50b3AgfHwgMCkpKTtcbiAgICBjb25zdCBmcyA9IE1hdGgubWF4KDEyLCBNYXRoLnJvdW5kKGIuZm9udFNpemUgfHwgMjQpKTsgLy8gZG90c1xuICAgIG91dCArPSBgXkZPJHt4fSwke3l9XkEwTiwke2ZzfSwke2ZzfV5GRCR7ZXNjYXBlWnBsKGIudGV4dCB8fCBcIlwiKX1eRlNcXG5gO1xuICB9XG4gIG91dCArPSBcIl5YWlwiO1xuICByZXR1cm4gQnVmZmVyLmZyb20ob3V0LCBcImFzY2lpXCIpO1xufVxuXG4vLyBNaW5pbWFsIGJsb2NrIC0+IEVTQy9QT1MgKGxpbmVzIG9ubHk7IHNvcnRlZCBieSBZKVxuZnVuY3Rpb24gYmxvY2tzVG9Fc2Nwb3NCeXRlcyhibG9ja3MsIHsgc2l6ZSA9IHsgdzogMSwgaDogMSB9IH0pIHtcbiAgY29uc3QgbGluZXMgPSAoYmxvY2tzIHx8IFtdKVxuICAgIC5maWx0ZXIoKGIpID0+IGIudHlwZSA9PT0gXCJ0ZXh0XCIpXG4gICAgLnNvcnQoKGEsIGIpID0+IChhLnkgfHwgMCkgLSAoYi55IHx8IDApKVxuICAgIC5tYXAoKGIpID0+IGIudGV4dCB8fCBcIlwiKTtcbiAgLy8gVXNlIHRoZSBoZWxwZXIgeW91IGFscmVhZHkgaGF2ZTsgZmFsbHMgYmFjayB0byBhIHJhc3RlciBub3RlIGZvciAxLjXDl1xuICByZXR1cm4gZXNjcG9zLmJ1aWxkUmVjZWlwdCh7IHRpdGxlOiBcIlByZXZpZXdcIiwgbGluZXMsIHNpemUgfSk7XG59XG5cbi8vIExvYWQgYSBwcmludGVyIHByb2ZpbGUgaWYgeW91IGhhdmUgdGhhdCB0YWJsZTsgb3RoZXJ3aXNlIHJldHVybiBudWxsLlxuLy8gU2hhcGUgd2UgZXhwZWN0OiB7IHdpZHRoRG90cywgbWFyZ2luTGVmdERvdHMsIG1hcmdpblRvcERvdHMsIC4uLiB9XG5hc3luYyBmdW5jdGlvbiBnZXRQcm9maWxlKHByb2ZpbGVJZCkge1xuICBpZiAoIXByb2ZpbGVJZCB8fCAhcHJpc21hPy5wcmludGVyUHJvZmlsZSkgcmV0dXJuIG51bGw7XG4gIHRyeSB7XG4gICAgY29uc3QgcCA9IGF3YWl0IHByaXNtYS5wcmludGVyUHJvZmlsZS5maW5kVW5pcXVlKHtcbiAgICAgIHdoZXJlOiB7IGlkOiBwcm9maWxlSWQgfSxcbiAgICB9KTtcbiAgICByZXR1cm4gcCB8fCBudWxsO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG4vLyAtLS0gcm91dGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcSkge1xuICB0cnkge1xuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXEuanNvbigpO1xuICAgIGNvbnN0IHtcbiAgICAgIHR5cGUgPSBcImVzY3Bvc1wiLCAvLyBcImVzY3Bvc1wiIHwgXCJ6cGxcIlxuICAgICAgYmxvY2tzID0gW10sIC8vIGVkaXRvciBibG9ja3NcbiAgICAgIGRyeSA9IHRydWUsIC8vIHByZXZpZXcgaWYgdHJ1ZVxuICAgICAgcHJvZmlsZUlkID0gbnVsbCwgLy8gcGljayB3aWR0aC9tYXJnaW5zIGlmIHByZXNlbnRcbiAgICAgIHByaW50ZXIgPSBcIlwiLCAvLyBBZ2VudCB0YXJnZXQgKG9wdGlvbmFsKVxuICAgICAgLy8gb3B0aW9uYWwgZXh0cmFzIHlvdSBtaWdodCBiZSBzZW5kaW5nOyBpZ25vcmVkIGhlcmU6XG4gICAgICB0ZW1wbGF0ZUlkLFxuICAgICAgZGF0YSxcbiAgICB9ID0gYm9keSB8fCB7fTtcblxuICAgIC8vIGRlcml2ZSB3aWR0aC9tYXJnaW5zXG4gICAgY29uc3QgcHJvZmlsZSA9IGF3YWl0IGdldFByb2ZpbGUocHJvZmlsZUlkKTtcbiAgICBjb25zdCB3aWR0aERvdHMgPSBOdW1iZXIocHJvZmlsZT8ud2lkdGhEb3RzKSB8fCBmYWxsYmFja1dpZHRoRG90cyh0eXBlKTtcbiAgICBjb25zdCBtYXJnaW5zID0ge1xuICAgICAgbGVmdDogTnVtYmVyKHByb2ZpbGU/Lm1hcmdpbkxlZnREb3RzIHx8IDApLFxuICAgICAgcmlnaHQ6IE51bWJlcihwcm9maWxlPy5tYXJnaW5SaWdodERvdHMgfHwgMCksXG4gICAgICB0b3A6IE51bWJlcihwcm9maWxlPy5tYXJnaW5Ub3BEb3RzIHx8IDApLFxuICAgICAgYm90dG9tOiBOdW1iZXIocHJvZmlsZT8ubWFyZ2luQm90dG9tRG90cyB8fCAwKSxcbiAgICB9O1xuXG4gICAgLy8gYnVpbGQgcGF5bG9hZFxuICAgIGxldCBwYXlsb2FkO1xuICAgIGlmICh0eXBlID09PSBcInpwbFwiKSB7XG4gICAgICBwYXlsb2FkID0gYmxvY2tzVG9acGwoYmxvY2tzLCB7IHdpZHRoRG90cywgbWFyZ2lucyB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRVNDL1BPUyDigJQgdXNlIDEuNcOXIGFzIGEgbmljZSBwcmV2aWV3IHNpemU7IHR3ZWFrIGlmIHlvdSBoYXZlIGEgc2l6ZSBwZXIgYmxvY2tcbiAgICAgIHBheWxvYWQgPSBibG9ja3NUb0VzY3Bvc0J5dGVzKGJsb2NrcywgeyBzaXplOiB7IHc6IDEsIGg6IDEgfSB9KTtcbiAgICB9XG5cbiAgICBpZiAoZHJ5KSB7XG4gICAgICAvLyBwcmV2aWV3IG9ubHlcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IG9rOiB0cnVlLCBieXRlczogcGF5bG9hZC5sZW5ndGggfSk7XG4gICAgfVxuXG4gICAgLy8gc2VuZCB0byBBZ2VudFxuICAgIGNvbnN0IGFnZW50VXJsID0gcHJvY2Vzcy5lbnYuQUdFTlRfVVJMIHx8IFwiaHR0cDovL2xvY2FsaG9zdDo0NzQ3XCI7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7YWdlbnRVcmx9L3ByaW50YCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgYnl0ZXM6IHBheWxvYWQudG9TdHJpbmcoXCJiYXNlNjRcIiksXG4gICAgICAgIHR5cGUsXG4gICAgICAgIC4uLihwcmludGVyID8geyBwcmludGVyIH0gOiB7fSksXG4gICAgICB9KSxcbiAgICB9KTtcblxuICAgIGNvbnN0IGFnZW50ID0gYXdhaXQgcmVzXG4gICAgICAuanNvbigpXG4gICAgICAuY2F0Y2goKCkgPT4gKHsgb2s6IGZhbHNlLCBlcnJvcjogXCJBZ2VudCBwYXJzZSBlcnJvclwiIH0pKTtcbiAgICBpZiAoIXJlcy5vayB8fCAhYWdlbnQub2spIHtcbiAgICAgIGNvbnN0IGVyck1zZyA9IGFnZW50Py5lcnJvciB8fCBgQWdlbnQgZXJyb3IgKCR7cmVzLnN0YXR1c30pYDtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IG9rOiBmYWxzZSwgZXJyb3I6IGVyck1zZyB9LCB7IHN0YXR1czogNTAyIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IG9rOiB0cnVlLCBieXRlczogcGF5bG9hZC5sZW5ndGgsIGFnZW50IH0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBvazogZmFsc2UsIGVycm9yOiBTdHJpbmcoZS5tZXNzYWdlIHx8IGUpIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwicHJpc21hIiwiZXNjcG9zIiwiZmFsbGJhY2tXaWR0aERvdHMiLCJ0eXBlIiwiZXNjYXBlWnBsIiwicyIsIlN0cmluZyIsInJlcGxhY2UiLCJibG9ja3NUb1pwbCIsImJsb2NrcyIsIndpZHRoRG90cyIsIm1hcmdpbnMiLCJsZWZ0IiwidG9wIiwib3V0IiwiYiIsIngiLCJNYXRoIiwibWF4Iiwicm91bmQiLCJ5IiwiZnMiLCJmb250U2l6ZSIsInRleHQiLCJCdWZmZXIiLCJmcm9tIiwiYmxvY2tzVG9Fc2Nwb3NCeXRlcyIsInNpemUiLCJ3IiwiaCIsImxpbmVzIiwiZmlsdGVyIiwic29ydCIsImEiLCJtYXAiLCJidWlsZFJlY2VpcHQiLCJ0aXRsZSIsImdldFByb2ZpbGUiLCJwcm9maWxlSWQiLCJwcmludGVyUHJvZmlsZSIsInAiLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJpZCIsIlBPU1QiLCJyZXEiLCJib2R5IiwianNvbiIsImRyeSIsInByaW50ZXIiLCJ0ZW1wbGF0ZUlkIiwiZGF0YSIsInByb2ZpbGUiLCJOdW1iZXIiLCJtYXJnaW5MZWZ0RG90cyIsInJpZ2h0IiwibWFyZ2luUmlnaHREb3RzIiwibWFyZ2luVG9wRG90cyIsImJvdHRvbSIsIm1hcmdpbkJvdHRvbURvdHMiLCJwYXlsb2FkIiwib2siLCJieXRlcyIsImxlbmd0aCIsImFnZW50VXJsIiwicHJvY2VzcyIsImVudiIsIkFHRU5UX1VSTCIsInJlcyIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0b1N0cmluZyIsImFnZW50IiwiY2F0Y2giLCJlcnJvciIsImVyck1zZyIsInN0YXR1cyIsImUiLCJtZXNzYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/print/route.js\n");

/***/ }),

/***/ "(rsc)/./lib/db.js":
/*!*******************!*\
  !*** ./lib/db.js ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n\n\n// Force an absolute sqlite path for runtime (Next runs from apps/web)\nif (process.env.DATABASE_URL?.startsWith(\"file:\")) {\n    const url = process.env.DATABASE_URL.slice(5); // after \"file:\"\n    const isAbs = url.startsWith(\"/\") || url.startsWith(\"\\\\\");\n    if (!isAbs) {\n        const abs = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), url); // resolve relative to apps/web\n        process.env.DATABASE_URL = `file:${abs}`;\n    }\n}\nconst globalForPrisma = globalThis;\nconst prisma = globalForPrisma.prisma || new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nif (true) globalForPrisma.prisma = prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBOEM7QUFDdEI7QUFFeEIsc0VBQXNFO0FBQ3RFLElBQUlFLFFBQVFDLEdBQUcsQ0FBQ0MsWUFBWSxFQUFFQyxXQUFXLFVBQVU7SUFDakQsTUFBTUMsTUFBTUosUUFBUUMsR0FBRyxDQUFDQyxZQUFZLENBQUNHLEtBQUssQ0FBQyxJQUFJLGdCQUFnQjtJQUMvRCxNQUFNQyxRQUFRRixJQUFJRCxVQUFVLENBQUMsUUFBUUMsSUFBSUQsVUFBVSxDQUFDO0lBQ3BELElBQUksQ0FBQ0csT0FBTztRQUNWLE1BQU1DLE1BQU1SLGdEQUFTLENBQUNDLFFBQVFTLEdBQUcsSUFBSUwsTUFBTSwrQkFBK0I7UUFDMUVKLFFBQVFDLEdBQUcsQ0FBQ0MsWUFBWSxHQUFHLENBQUMsS0FBSyxFQUFFSyxJQUFJLENBQUM7SUFDMUM7QUFDRjtBQUVBLE1BQU1HLGtCQUFrQkM7QUFDakIsTUFBTUMsU0FBU0YsZ0JBQWdCRSxNQUFNLElBQUksSUFBSWQsd0RBQVlBLEdBQUc7QUFDbkUsSUFBSUUsSUFBcUMsRUFBRVUsZ0JBQWdCRSxNQUFNLEdBQUdBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHByaW50Y3JhZnQvd2ViLy4vbGliL2RiLmpzPzNkYzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJpc21hQ2xpZW50IH0gZnJvbSBcIkBwcmlzbWEvY2xpZW50XCI7XG5pbXBvcnQgcGF0aCBmcm9tIFwicGF0aFwiO1xuXG4vLyBGb3JjZSBhbiBhYnNvbHV0ZSBzcWxpdGUgcGF0aCBmb3IgcnVudGltZSAoTmV4dCBydW5zIGZyb20gYXBwcy93ZWIpXG5pZiAocHJvY2Vzcy5lbnYuREFUQUJBU0VfVVJMPy5zdGFydHNXaXRoKFwiZmlsZTpcIikpIHtcbiAgY29uc3QgdXJsID0gcHJvY2Vzcy5lbnYuREFUQUJBU0VfVVJMLnNsaWNlKDUpOyAvLyBhZnRlciBcImZpbGU6XCJcbiAgY29uc3QgaXNBYnMgPSB1cmwuc3RhcnRzV2l0aChcIi9cIikgfHwgdXJsLnN0YXJ0c1dpdGgoXCJcXFxcXCIpO1xuICBpZiAoIWlzQWJzKSB7XG4gICAgY29uc3QgYWJzID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksIHVybCk7IC8vIHJlc29sdmUgcmVsYXRpdmUgdG8gYXBwcy93ZWJcbiAgICBwcm9jZXNzLmVudi5EQVRBQkFTRV9VUkwgPSBgZmlsZToke2Fic31gO1xuICB9XG59XG5cbmNvbnN0IGdsb2JhbEZvclByaXNtYSA9IGdsb2JhbFRoaXM7XG5leHBvcnQgY29uc3QgcHJpc21hID0gZ2xvYmFsRm9yUHJpc21hLnByaXNtYSB8fCBuZXcgUHJpc21hQ2xpZW50KCk7XG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSBnbG9iYWxGb3JQcmlzbWEucHJpc21hID0gcHJpc21hO1xuIl0sIm5hbWVzIjpbIlByaXNtYUNsaWVudCIsInBhdGgiLCJwcm9jZXNzIiwiZW52IiwiREFUQUJBU0VfVVJMIiwic3RhcnRzV2l0aCIsInVybCIsInNsaWNlIiwiaXNBYnMiLCJhYnMiLCJqb2luIiwiY3dkIiwiZ2xvYmFsRm9yUHJpc21hIiwiZ2xvYmFsVGhpcyIsInByaXNtYSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/db.js\n");

/***/ }),

/***/ "(rsc)/../../packages/encoders/bind.js":
/*!***************************************!*\
  !*** ../../packages/encoders/bind.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   bindText: () => (/* binding */ bindText),\n/* harmony export */   findPlaceholders: () => (/* binding */ findPlaceholders)\n/* harmony export */ });\n// packages/encoders/bind.js\nfunction get(obj, path) {\n    if (!path) return undefined;\n    const parts = path.split(\".\").map((s)=>s.trim()).filter(Boolean);\n    let cur = obj;\n    for (const p of parts){\n        const m = p.match(/^(\\w+)(\\[(\\d+)\\])?$/); // user.items[0]\n        if (!m) return undefined;\n        const key = m[1];\n        if (cur == null || typeof cur !== \"object\" || !(key in cur)) return undefined;\n        cur = cur[key];\n        if (m[3] != null) {\n            const idx = Number(m[3]);\n            if (!Array.isArray(cur) || idx >= cur.length) return undefined;\n            cur = cur[idx];\n        }\n    }\n    return cur;\n}\nfunction bindText(text = \"\", data = {}) {\n    if (typeof text !== \"string\") return text;\n    return text.replace(/{{\\s*([^}]+)\\s*}}/g, (_, p)=>{\n        const v = get(data, p);\n        return v == null ? \"\" : String(v);\n    });\n}\nfunction findPlaceholders(text = \"\") {\n    const out = new Set();\n    if (typeof text !== \"string\") return out;\n    text.replace(/{{\\s*([^}]+)\\s*}}/g, (_, p)=>out.add(p.trim()));\n    return out;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvZW5jb2RlcnMvYmluZC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLDRCQUE0QjtBQUM1QixTQUFTQSxJQUFJQyxHQUFHLEVBQUVDLElBQUk7SUFDcEIsSUFBSSxDQUFDQSxNQUFNLE9BQU9DO0lBQ2xCLE1BQU1DLFFBQVFGLEtBQ1hHLEtBQUssQ0FBQyxLQUNOQyxHQUFHLENBQUMsQ0FBQ0MsSUFBTUEsRUFBRUMsSUFBSSxJQUNqQkMsTUFBTSxDQUFDQztJQUNWLElBQUlDLE1BQU1WO0lBQ1YsS0FBSyxNQUFNVyxLQUFLUixNQUFPO1FBQ3JCLE1BQU1TLElBQUlELEVBQUVFLEtBQUssQ0FBQyx3QkFBd0IsZ0JBQWdCO1FBQzFELElBQUksQ0FBQ0QsR0FBRyxPQUFPVjtRQUNmLE1BQU1ZLE1BQU1GLENBQUMsQ0FBQyxFQUFFO1FBQ2hCLElBQUlGLE9BQU8sUUFBUSxPQUFPQSxRQUFRLFlBQVksQ0FBRUksQ0FBQUEsT0FBT0osR0FBRSxHQUN2RCxPQUFPUjtRQUNUUSxNQUFNQSxHQUFHLENBQUNJLElBQUk7UUFDZCxJQUFJRixDQUFDLENBQUMsRUFBRSxJQUFJLE1BQU07WUFDaEIsTUFBTUcsTUFBTUMsT0FBT0osQ0FBQyxDQUFDLEVBQUU7WUFDdkIsSUFBSSxDQUFDSyxNQUFNQyxPQUFPLENBQUNSLFFBQVFLLE9BQU9MLElBQUlTLE1BQU0sRUFBRSxPQUFPakI7WUFDckRRLE1BQU1BLEdBQUcsQ0FBQ0ssSUFBSTtRQUNoQjtJQUNGO0lBQ0EsT0FBT0w7QUFDVDtBQUVPLFNBQVNVLFNBQVNDLE9BQU8sRUFBRSxFQUFFQyxPQUFPLENBQUMsQ0FBQztJQUMzQyxJQUFJLE9BQU9ELFNBQVMsVUFBVSxPQUFPQTtJQUNyQyxPQUFPQSxLQUFLRSxPQUFPLENBQUMsc0JBQXNCLENBQUNDLEdBQUdiO1FBQzVDLE1BQU1jLElBQUkxQixJQUFJdUIsTUFBTVg7UUFDcEIsT0FBT2MsS0FBSyxPQUFPLEtBQUtDLE9BQU9EO0lBQ2pDO0FBQ0Y7QUFFTyxTQUFTRSxpQkFBaUJOLE9BQU8sRUFBRTtJQUN4QyxNQUFNTyxNQUFNLElBQUlDO0lBQ2hCLElBQUksT0FBT1IsU0FBUyxVQUFVLE9BQU9PO0lBQ3JDUCxLQUFLRSxPQUFPLENBQUMsc0JBQXNCLENBQUNDLEdBQUdiLElBQU1pQixJQUFJRSxHQUFHLENBQUNuQixFQUFFSixJQUFJO0lBQzNELE9BQU9xQjtBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHByaW50Y3JhZnQvd2ViLy4uLy4uL3BhY2thZ2VzL2VuY29kZXJzL2JpbmQuanM/MDYwOCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBwYWNrYWdlcy9lbmNvZGVycy9iaW5kLmpzXG5mdW5jdGlvbiBnZXQob2JqLCBwYXRoKSB7XG4gIGlmICghcGF0aCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgY29uc3QgcGFydHMgPSBwYXRoXG4gICAgLnNwbGl0KFwiLlwiKVxuICAgIC5tYXAoKHMpID0+IHMudHJpbSgpKVxuICAgIC5maWx0ZXIoQm9vbGVhbik7XG4gIGxldCBjdXIgPSBvYmo7XG4gIGZvciAoY29uc3QgcCBvZiBwYXJ0cykge1xuICAgIGNvbnN0IG0gPSBwLm1hdGNoKC9eKFxcdyspKFxcWyhcXGQrKVxcXSk/JC8pOyAvLyB1c2VyLml0ZW1zWzBdXG4gICAgaWYgKCFtKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgIGNvbnN0IGtleSA9IG1bMV07XG4gICAgaWYgKGN1ciA9PSBudWxsIHx8IHR5cGVvZiBjdXIgIT09IFwib2JqZWN0XCIgfHwgIShrZXkgaW4gY3VyKSlcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgY3VyID0gY3VyW2tleV07XG4gICAgaWYgKG1bM10gIT0gbnVsbCkge1xuICAgICAgY29uc3QgaWR4ID0gTnVtYmVyKG1bM10pO1xuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGN1cikgfHwgaWR4ID49IGN1ci5sZW5ndGgpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICBjdXIgPSBjdXJbaWR4XTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGN1cjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJpbmRUZXh0KHRleHQgPSBcIlwiLCBkYXRhID0ge30pIHtcbiAgaWYgKHR5cGVvZiB0ZXh0ICE9PSBcInN0cmluZ1wiKSByZXR1cm4gdGV4dDtcbiAgcmV0dXJuIHRleHQucmVwbGFjZSgve3tcXHMqKFtefV0rKVxccyp9fS9nLCAoXywgcCkgPT4ge1xuICAgIGNvbnN0IHYgPSBnZXQoZGF0YSwgcCk7XG4gICAgcmV0dXJuIHYgPT0gbnVsbCA/IFwiXCIgOiBTdHJpbmcodik7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmluZFBsYWNlaG9sZGVycyh0ZXh0ID0gXCJcIikge1xuICBjb25zdCBvdXQgPSBuZXcgU2V0KCk7XG4gIGlmICh0eXBlb2YgdGV4dCAhPT0gXCJzdHJpbmdcIikgcmV0dXJuIG91dDtcbiAgdGV4dC5yZXBsYWNlKC97e1xccyooW159XSspXFxzKn19L2csIChfLCBwKSA9PiBvdXQuYWRkKHAudHJpbSgpKSk7XG4gIHJldHVybiBvdXQ7XG59XG4iXSwibmFtZXMiOlsiZ2V0Iiwib2JqIiwicGF0aCIsInVuZGVmaW5lZCIsInBhcnRzIiwic3BsaXQiLCJtYXAiLCJzIiwidHJpbSIsImZpbHRlciIsIkJvb2xlYW4iLCJjdXIiLCJwIiwibSIsIm1hdGNoIiwia2V5IiwiaWR4IiwiTnVtYmVyIiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwiYmluZFRleHQiLCJ0ZXh0IiwiZGF0YSIsInJlcGxhY2UiLCJfIiwidiIsIlN0cmluZyIsImZpbmRQbGFjZWhvbGRlcnMiLCJvdXQiLCJTZXQiLCJhZGQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../packages/encoders/bind.js\n");

/***/ }),

/***/ "(rsc)/../../packages/encoders/escpos.js":
/*!*****************************************!*\
  !*** ../../packages/encoders/escpos.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   align: () => (/* binding */ align),\n/* harmony export */   barcode128: () => (/* binding */ barcode128),\n/* harmony export */   buildReceipt: () => (/* binding */ buildReceipt),\n/* harmony export */   center: () => (/* binding */ center),\n/* harmony export */   cut: () => (/* binding */ cut),\n/* harmony export */   feed: () => (/* binding */ feed),\n/* harmony export */   qr: () => (/* binding */ qr),\n/* harmony export */   renderFromBlocks: () => (/* binding */ renderFromBlocks),\n/* harmony export */   sizeCmd: () => (/* binding */ sizeCmd),\n/* harmony export */   textLine: () => (/* binding */ textLine)\n/* harmony export */ });\n/* harmony import */ var _bind_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bind.js */ \"(rsc)/../../packages/encoders/bind.js\");\nconst ESC = \"\\x1b\"; // 27\nconst GS = \"\\x1d\"; // 29\nfunction bytes(str) {\n    return Buffer.from(str, \"binary\");\n}\n// Native ESC/POS size supports only integer multipliers (1..8). For decimals like 1.5\n// we fall back to a simple raster text approach: render text lines as bit images\n// at a scaled width/height using GS v 0. Here we stub a minimal approach you can\n// later replace with a proper canvas renderer.\nfunction sizeCmd(w = 1, h = 1) {\n    if (Number.isInteger(w) && Number.isInteger(h)) {\n        const n = w - 1 << 4 | h - 1;\n        return bytes(GS + \"!\" + String.fromCharCode(n));\n    }\n    // decimal path (e.g., 1.5): mark mode for raster text\n    return bytes(\"__RASTER_SIZE:\" + w + \",\" + h + \"__\");\n}\nfunction align(mode = \"left\") {\n    const m = mode === \"center\" ? 1 : mode === \"right\" ? 2 : 0;\n    return bytes(ESC + \"a\" + String.fromCharCode(m));\n}\nfunction textLine(s) {\n    return Buffer.concat([\n        bytes(s),\n        bytes(\"\\n\")\n    ]);\n}\nfunction feed(n = 1) {\n    return bytes(ESC + \"d\" + String.fromCharCode(n));\n}\nfunction cut() {\n    return bytes(GS + \"V\" + \"\\0\");\n}\n// Minimal raster text emulation: detect our marker and instead emit GS v 0 image command\n// with a crude 1.5x wide scaling by duplicating columns every other pixel.\nfunction renderWithFallback(lines, w = 1, h = 1) {\n    // TODO: replace with proper rasterization. For now, just prepend a note.\n    const header = bytes(`(raster ${w}x${h})\\n`);\n    return Buffer.concat([\n        header,\n        ...lines.map((l)=>textLine(l))\n    ]);\n}\nfunction buildReceipt({ title = \"TEST\", lines = [], size = {\n    w: 1,\n    h: 1\n} }) {\n    const chunks = [];\n    chunks.push(bytes(ESC + \"@\")); // init\n    const sz = sizeCmd(size.w, size.h).toString(\"binary\");\n    if (sz.startsWith(\"__RASTER_SIZE:\")) {\n        chunks.push(align(\"center\"));\n        chunks.push(renderWithFallback([\n            title\n        ], size.w, size.h));\n    } else {\n        chunks.push(sizeCmd(size.w, size.h));\n        chunks.push(align(\"center\"));\n        chunks.push(textLine(title));\n    }\n    chunks.push(align(\"left\"));\n    lines.forEach((l)=>chunks.push(textLine(l)));\n    chunks.push(feed(2));\n    chunks.push(cut());\n    return Buffer.concat(chunks);\n}\nfunction center(s) {\n    return Buffer.concat([\n        align(\"center\"),\n        textLine(s)\n    ]);\n}\n\n\n// Map font px → ESC/POS size (tweak later via printer profiles)\nfunction scaleFromFont(px = 16) {\n    if (px <= 16) return {\n        w: 1,\n        h: 1\n    };\n    if (px <= 20) return {\n        w: 1.5,\n        h: 1.5\n    };\n    if (px <= 24) return {\n        w: 2,\n        h: 2\n    };\n    if (px <= 32) return {\n        w: 3,\n        h: 3\n    };\n    return {\n        w: 4,\n        h: 4\n    };\n}\n// Real ESC/POS QR (GS ( k) — Epson compatible)\nfunction qr(data, { size = 6, ec = \"M\" } = {}) {\n    const dbuf = Buffer.from(String(data), \"utf8\");\n    const ecMap = {\n        L: 48,\n        M: 49,\n        Q: 50,\n        H: 51\n    }; // '0'..'3'\n    const ecByte = ecMap[ec] ?? 49; // default M\n    const model2 = Buffer.from([\n        0x1d,\n        0x28,\n        0x6b,\n        0x04,\n        0x00,\n        0x31,\n        0x41,\n        0x32,\n        0x00\n    ]); // model 2\n    const module = Buffer.from([\n        0x1d,\n        0x28,\n        0x6b,\n        0x03,\n        0x00,\n        0x31,\n        0x43,\n        Math.max(1, Math.min(16, size))\n    ]);\n    const level = Buffer.from([\n        0x1d,\n        0x28,\n        0x6b,\n        0x03,\n        0x00,\n        0x31,\n        0x45,\n        ecByte\n    ]);\n    const pL = dbuf.length + 3 & 0xff;\n    const pH = dbuf.length + 3 >> 8 & 0xff;\n    const store = Buffer.concat([\n        Buffer.from([\n            0x1d,\n            0x28,\n            0x6b,\n            pL,\n            pH,\n            0x31,\n            0x50,\n            0x30\n        ]),\n        dbuf\n    ]);\n    const print = Buffer.from([\n        0x1d,\n        0x28,\n        0x6b,\n        0x03,\n        0x00,\n        0x31,\n        0x51,\n        0x30\n    ]);\n    return Buffer.concat([\n        model2,\n        module,\n        level,\n        store,\n        print\n    ]);\n}\n// Real ESC/POS Code128 (GS k)\nfunction barcode128(data, { height = 80, width = 2, hri = 0 } = {}) {\n    const d = Buffer.from(String(data), \"ascii\");\n    const setH = Buffer.from([\n        0x1d,\n        0x68,\n        Math.max(1, Math.min(255, height))\n    ]);\n    const setW = Buffer.from([\n        0x1d,\n        0x77,\n        Math.max(2, Math.min(6, width))\n    ]); // module width\n    const setHRI = Buffer.from([\n        0x1d,\n        0x48,\n        Math.max(0, Math.min(3, hri))\n    ]); // 0=none,1=above,2=below,3=both\n    const k = Buffer.concat([\n        Buffer.from([\n            0x1d,\n            0x6b,\n            73,\n            d.length\n        ]),\n        d\n    ]); // m=73 (CODE128), n=length\n    return Buffer.concat([\n        setH,\n        setW,\n        setHRI,\n        k,\n        Buffer.from(\"\\n\")\n    ]);\n}\n// Render blocks → ESC/POS bytes (text/divider real, barcode/qr real)\nfunction renderFromBlocks({ blocks = [], data = {}, profile = {\n    widthDots: 576\n} }) {\n    const chunks = [];\n    chunks.push(Buffer.from(\"\\x1b@\", \"binary\")); // init\n    const sorted = [\n        ...blocks\n    ].sort((a, b)=>a.y - b.y || a.x - b.x);\n    for (const b of sorted){\n        const t = b.type;\n        if (t === \"text\") {\n            const s = scaleFromFont(b.fontSize || 16);\n            const marker = sizeCmd(s.w, s.h).toString(\"binary\");\n            chunks.push(align(b.align || \"left\"));\n            if (marker.startsWith(\"__RASTER_SIZE:\")) {\n                chunks.push(renderWithFallback([\n                    (0,_bind_js__WEBPACK_IMPORTED_MODULE_0__.bindText)(b.text, data)\n                ], s.w, s.h));\n            } else {\n                chunks.push(sizeCmd(s.w, s.h));\n                chunks.push(textLine((0,_bind_js__WEBPACK_IMPORTED_MODULE_0__.bindText)(b.text, data)));\n            }\n        } else if (t === \"divider\") {\n            chunks.push(align(\"left\"));\n            const cols = Math.max(24, Math.min(64, Math.floor((profile.widthDots || 576) / 8)));\n            chunks.push(textLine(\"-\".repeat(cols)));\n        } else if (t === \"barcode\") {\n            const val = (0,_bind_js__WEBPACK_IMPORTED_MODULE_0__.bindText)(b.value || \"\", data);\n            chunks.push(align(b.align || \"left\"));\n            chunks.push(barcode128(val, {\n                height: b.height || 80,\n                width: b.width || 2,\n                hri: b.hri ?? 0\n            }));\n        } else if (t === \"qr\") {\n            const val = (0,_bind_js__WEBPACK_IMPORTED_MODULE_0__.bindText)(b.value || \"\", data);\n            chunks.push(align(b.align || \"left\"));\n            chunks.push(qr(val, {\n                size: b.size || 6,\n                ec: b.ec || \"M\"\n            }));\n            chunks.push(feed(1));\n        }\n    }\n    chunks.push(feed(2));\n    chunks.push(cut());\n    return Buffer.concat(chunks);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxJQUFJLENBQUNYLEtBQUs7UUFDbkI7SUFDRjtJQUNBVSxPQUFPQyxJQUFJLENBQUNYLEtBQUs7SUFDakJVLE9BQU9DLElBQUksQ0FBQ1Y7SUFDWixPQUFPakIsT0FBT2UsTUFBTSxDQUFDVztBQUN2QiIsInNvdXJjZXMiOlsid2VicGFjazovL0BwcmludGNyYWZ0L3dlYi8uLi8uLi9wYWNrYWdlcy9lbmNvZGVycy9lc2Nwb3MuanM/NjgzZSJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBFU0MgPSBcIlxceDFiXCI7IC8vIDI3XG5jb25zdCBHUyA9IFwiXFx4MWRcIjsgLy8gMjlcblxuZnVuY3Rpb24gYnl0ZXMoc3RyKSB7XG4gIHJldHVybiBCdWZmZXIuZnJvbShzdHIsIFwiYmluYXJ5XCIpO1xufVxuXG4vLyBOYXRpdmUgRVNDL1BPUyBzaXplIHN1cHBvcnRzIG9ubHkgaW50ZWdlciBtdWx0aXBsaWVycyAoMS4uOCkuIEZvciBkZWNpbWFscyBsaWtlIDEuNVxuLy8gd2UgZmFsbCBiYWNrIHRvIGEgc2ltcGxlIHJhc3RlciB0ZXh0IGFwcHJvYWNoOiByZW5kZXIgdGV4dCBsaW5lcyBhcyBiaXQgaW1hZ2VzXG4vLyBhdCBhIHNjYWxlZCB3aWR0aC9oZWlnaHQgdXNpbmcgR1MgdiAwLiBIZXJlIHdlIHN0dWIgYSBtaW5pbWFsIGFwcHJvYWNoIHlvdSBjYW5cbi8vIGxhdGVyIHJlcGxhY2Ugd2l0aCBhIHByb3BlciBjYW52YXMgcmVuZGVyZXIuXG5mdW5jdGlvbiBzaXplQ21kKHcgPSAxLCBoID0gMSkge1xuICBpZiAoTnVtYmVyLmlzSW50ZWdlcih3KSAmJiBOdW1iZXIuaXNJbnRlZ2VyKGgpKSB7XG4gICAgY29uc3QgbiA9ICgodyAtIDEpIDw8IDQpIHwgKGggLSAxKTtcbiAgICByZXR1cm4gYnl0ZXMoR1MgKyBcIiFcIiArIFN0cmluZy5mcm9tQ2hhckNvZGUobikpO1xuICB9XG4gIC8vIGRlY2ltYWwgcGF0aCAoZS5nLiwgMS41KTogbWFyayBtb2RlIGZvciByYXN0ZXIgdGV4dFxuICByZXR1cm4gYnl0ZXMoXCJfX1JBU1RFUl9TSVpFOlwiICsgdyArIFwiLFwiICsgaCArIFwiX19cIik7XG59XG5cbmZ1bmN0aW9uIGFsaWduKG1vZGUgPSBcImxlZnRcIikge1xuICBjb25zdCBtID0gbW9kZSA9PT0gXCJjZW50ZXJcIiA/IDEgOiBtb2RlID09PSBcInJpZ2h0XCIgPyAyIDogMDtcbiAgcmV0dXJuIGJ5dGVzKEVTQyArIFwiYVwiICsgU3RyaW5nLmZyb21DaGFyQ29kZShtKSk7XG59XG5cbmZ1bmN0aW9uIHRleHRMaW5lKHMpIHtcbiAgcmV0dXJuIEJ1ZmZlci5jb25jYXQoW2J5dGVzKHMpLCBieXRlcyhcIlxcblwiKV0pO1xufVxuXG5mdW5jdGlvbiBmZWVkKG4gPSAxKSB7XG4gIHJldHVybiBieXRlcyhFU0MgKyBcImRcIiArIFN0cmluZy5mcm9tQ2hhckNvZGUobikpO1xufVxuZnVuY3Rpb24gY3V0KCkge1xuICByZXR1cm4gYnl0ZXMoR1MgKyBcIlZcIiArIFwiXFx4MDBcIik7XG59XG5cbi8vIE1pbmltYWwgcmFzdGVyIHRleHQgZW11bGF0aW9uOiBkZXRlY3Qgb3VyIG1hcmtlciBhbmQgaW5zdGVhZCBlbWl0IEdTIHYgMCBpbWFnZSBjb21tYW5kXG4vLyB3aXRoIGEgY3J1ZGUgMS41eCB3aWRlIHNjYWxpbmcgYnkgZHVwbGljYXRpbmcgY29sdW1ucyBldmVyeSBvdGhlciBwaXhlbC5cbmZ1bmN0aW9uIHJlbmRlcldpdGhGYWxsYmFjayhsaW5lcywgdyA9IDEsIGggPSAxKSB7XG4gIC8vIFRPRE86IHJlcGxhY2Ugd2l0aCBwcm9wZXIgcmFzdGVyaXphdGlvbi4gRm9yIG5vdywganVzdCBwcmVwZW5kIGEgbm90ZS5cbiAgY29uc3QgaGVhZGVyID0gYnl0ZXMoYChyYXN0ZXIgJHt3fXgke2h9KVxcbmApO1xuICByZXR1cm4gQnVmZmVyLmNvbmNhdChbaGVhZGVyLCAuLi5saW5lcy5tYXAoKGwpID0+IHRleHRMaW5lKGwpKV0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRSZWNlaXB0KHtcbiAgdGl0bGUgPSBcIlRFU1RcIixcbiAgbGluZXMgPSBbXSxcbiAgc2l6ZSA9IHsgdzogMSwgaDogMSB9LFxufSkge1xuICBjb25zdCBjaHVua3MgPSBbXTtcbiAgY2h1bmtzLnB1c2goYnl0ZXMoRVNDICsgXCJAXCIpKTsgLy8gaW5pdFxuICBjb25zdCBzeiA9IHNpemVDbWQoc2l6ZS53LCBzaXplLmgpLnRvU3RyaW5nKFwiYmluYXJ5XCIpO1xuICBpZiAoc3ouc3RhcnRzV2l0aChcIl9fUkFTVEVSX1NJWkU6XCIpKSB7XG4gICAgY2h1bmtzLnB1c2goYWxpZ24oXCJjZW50ZXJcIikpO1xuICAgIGNodW5rcy5wdXNoKHJlbmRlcldpdGhGYWxsYmFjayhbdGl0bGVdLCBzaXplLncsIHNpemUuaCkpO1xuICB9IGVsc2Uge1xuICAgIGNodW5rcy5wdXNoKHNpemVDbWQoc2l6ZS53LCBzaXplLmgpKTtcbiAgICBjaHVua3MucHVzaChhbGlnbihcImNlbnRlclwiKSk7XG4gICAgY2h1bmtzLnB1c2godGV4dExpbmUodGl0bGUpKTtcbiAgfVxuICBjaHVua3MucHVzaChhbGlnbihcImxlZnRcIikpO1xuICBsaW5lcy5mb3JFYWNoKChsKSA9PiBjaHVua3MucHVzaCh0ZXh0TGluZShsKSkpO1xuICBjaHVua3MucHVzaChmZWVkKDIpKTtcbiAgY2h1bmtzLnB1c2goY3V0KCkpO1xuICByZXR1cm4gQnVmZmVyLmNvbmNhdChjaHVua3MpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2VudGVyKHMpIHtcbiAgcmV0dXJuIEJ1ZmZlci5jb25jYXQoW2FsaWduKFwiY2VudGVyXCIpLCB0ZXh0TGluZShzKV0pO1xufVxuZXhwb3J0IHsgc2l6ZUNtZCwgYWxpZ24sIHRleHRMaW5lLCBmZWVkLCBjdXQgfTtcblxuaW1wb3J0IHsgYmluZFRleHQgfSBmcm9tIFwiLi9iaW5kLmpzXCI7XG5cbi8vIE1hcCBmb250IHB4IOKGkiBFU0MvUE9TIHNpemUgKHR3ZWFrIGxhdGVyIHZpYSBwcmludGVyIHByb2ZpbGVzKVxuZnVuY3Rpb24gc2NhbGVGcm9tRm9udChweCA9IDE2KSB7XG4gIGlmIChweCA8PSAxNikgcmV0dXJuIHsgdzogMSwgaDogMSB9O1xuICBpZiAocHggPD0gMjApIHJldHVybiB7IHc6IDEuNSwgaDogMS41IH07XG4gIGlmIChweCA8PSAyNCkgcmV0dXJuIHsgdzogMiwgaDogMiB9O1xuICBpZiAocHggPD0gMzIpIHJldHVybiB7IHc6IDMsIGg6IDMgfTtcbiAgcmV0dXJuIHsgdzogNCwgaDogNCB9O1xufVxuXG4vLyBSZWFsIEVTQy9QT1MgUVIgKEdTICggaykg4oCUIEVwc29uIGNvbXBhdGlibGUpXG5leHBvcnQgZnVuY3Rpb24gcXIoZGF0YSwgeyBzaXplID0gNiwgZWMgPSBcIk1cIiB9ID0ge30pIHtcbiAgY29uc3QgZGJ1ZiA9IEJ1ZmZlci5mcm9tKFN0cmluZyhkYXRhKSwgXCJ1dGY4XCIpO1xuICBjb25zdCBlY01hcCA9IHsgTDogNDgsIE06IDQ5LCBROiA1MCwgSDogNTEgfTsgLy8gJzAnLi4nMydcbiAgY29uc3QgZWNCeXRlID0gZWNNYXBbZWNdID8/IDQ5OyAvLyBkZWZhdWx0IE1cblxuICBjb25zdCBtb2RlbDIgPSBCdWZmZXIuZnJvbShbXG4gICAgMHgxZCwgMHgyOCwgMHg2YiwgMHgwNCwgMHgwMCwgMHgzMSwgMHg0MSwgMHgzMiwgMHgwMCxcbiAgXSk7IC8vIG1vZGVsIDJcbiAgY29uc3QgbW9kdWxlID0gQnVmZmVyLmZyb20oW1xuICAgIDB4MWQsXG4gICAgMHgyOCxcbiAgICAweDZiLFxuICAgIDB4MDMsXG4gICAgMHgwMCxcbiAgICAweDMxLFxuICAgIDB4NDMsXG4gICAgTWF0aC5tYXgoMSwgTWF0aC5taW4oMTYsIHNpemUpKSxcbiAgXSk7XG4gIGNvbnN0IGxldmVsID0gQnVmZmVyLmZyb20oWzB4MWQsIDB4MjgsIDB4NmIsIDB4MDMsIDB4MDAsIDB4MzEsIDB4NDUsIGVjQnl0ZV0pO1xuICBjb25zdCBwTCA9IChkYnVmLmxlbmd0aCArIDMpICYgMHhmZjtcbiAgY29uc3QgcEggPSAoKGRidWYubGVuZ3RoICsgMykgPj4gOCkgJiAweGZmO1xuICBjb25zdCBzdG9yZSA9IEJ1ZmZlci5jb25jYXQoW1xuICAgIEJ1ZmZlci5mcm9tKFsweDFkLCAweDI4LCAweDZiLCBwTCwgcEgsIDB4MzEsIDB4NTAsIDB4MzBdKSxcbiAgICBkYnVmLFxuICBdKTtcbiAgY29uc3QgcHJpbnQgPSBCdWZmZXIuZnJvbShbMHgxZCwgMHgyOCwgMHg2YiwgMHgwMywgMHgwMCwgMHgzMSwgMHg1MSwgMHgzMF0pO1xuXG4gIHJldHVybiBCdWZmZXIuY29uY2F0KFttb2RlbDIsIG1vZHVsZSwgbGV2ZWwsIHN0b3JlLCBwcmludF0pO1xufVxuXG4vLyBSZWFsIEVTQy9QT1MgQ29kZTEyOCAoR1MgaylcbmV4cG9ydCBmdW5jdGlvbiBiYXJjb2RlMTI4KGRhdGEsIHsgaGVpZ2h0ID0gODAsIHdpZHRoID0gMiwgaHJpID0gMCB9ID0ge30pIHtcbiAgY29uc3QgZCA9IEJ1ZmZlci5mcm9tKFN0cmluZyhkYXRhKSwgXCJhc2NpaVwiKTtcbiAgY29uc3Qgc2V0SCA9IEJ1ZmZlci5mcm9tKFsweDFkLCAweDY4LCBNYXRoLm1heCgxLCBNYXRoLm1pbigyNTUsIGhlaWdodCkpXSk7XG4gIGNvbnN0IHNldFcgPSBCdWZmZXIuZnJvbShbMHgxZCwgMHg3NywgTWF0aC5tYXgoMiwgTWF0aC5taW4oNiwgd2lkdGgpKV0pOyAvLyBtb2R1bGUgd2lkdGhcbiAgY29uc3Qgc2V0SFJJID0gQnVmZmVyLmZyb20oWzB4MWQsIDB4NDgsIE1hdGgubWF4KDAsIE1hdGgubWluKDMsIGhyaSkpXSk7IC8vIDA9bm9uZSwxPWFib3ZlLDI9YmVsb3csMz1ib3RoXG4gIGNvbnN0IGsgPSBCdWZmZXIuY29uY2F0KFtCdWZmZXIuZnJvbShbMHgxZCwgMHg2YiwgNzMsIGQubGVuZ3RoXSksIGRdKTsgLy8gbT03MyAoQ09ERTEyOCksIG49bGVuZ3RoXG4gIHJldHVybiBCdWZmZXIuY29uY2F0KFtzZXRILCBzZXRXLCBzZXRIUkksIGssIEJ1ZmZlci5mcm9tKFwiXFxuXCIpXSk7XG59XG5cbi8vIFJlbmRlciBibG9ja3Mg4oaSIEVTQy9QT1MgYnl0ZXMgKHRleHQvZGl2aWRlciByZWFsLCBiYXJjb2RlL3FyIHJlYWwpXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyRnJvbUJsb2Nrcyh7XG4gIGJsb2NrcyA9IFtdLFxuICBkYXRhID0ge30sXG4gIHByb2ZpbGUgPSB7IHdpZHRoRG90czogNTc2IH0sXG59KSB7XG4gIGNvbnN0IGNodW5rcyA9IFtdO1xuICBjaHVua3MucHVzaChCdWZmZXIuZnJvbShcIlxceDFiQFwiLCBcImJpbmFyeVwiKSk7IC8vIGluaXRcblxuICBjb25zdCBzb3J0ZWQgPSBbLi4uYmxvY2tzXS5zb3J0KChhLCBiKSA9PiBhLnkgLSBiLnkgfHwgYS54IC0gYi54KTtcbiAgZm9yIChjb25zdCBiIG9mIHNvcnRlZCkge1xuICAgIGNvbnN0IHQgPSBiLnR5cGU7XG4gICAgaWYgKHQgPT09IFwidGV4dFwiKSB7XG4gICAgICBjb25zdCBzID0gc2NhbGVGcm9tRm9udChiLmZvbnRTaXplIHx8IDE2KTtcbiAgICAgIGNvbnN0IG1hcmtlciA9IHNpemVDbWQocy53LCBzLmgpLnRvU3RyaW5nKFwiYmluYXJ5XCIpO1xuICAgICAgY2h1bmtzLnB1c2goYWxpZ24oYi5hbGlnbiB8fCBcImxlZnRcIikpO1xuICAgICAgaWYgKG1hcmtlci5zdGFydHNXaXRoKFwiX19SQVNURVJfU0laRTpcIikpIHtcbiAgICAgICAgY2h1bmtzLnB1c2gocmVuZGVyV2l0aEZhbGxiYWNrKFtiaW5kVGV4dChiLnRleHQsIGRhdGEpXSwgcy53LCBzLmgpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNodW5rcy5wdXNoKHNpemVDbWQocy53LCBzLmgpKTtcbiAgICAgICAgY2h1bmtzLnB1c2godGV4dExpbmUoYmluZFRleHQoYi50ZXh0LCBkYXRhKSkpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodCA9PT0gXCJkaXZpZGVyXCIpIHtcbiAgICAgIGNodW5rcy5wdXNoKGFsaWduKFwibGVmdFwiKSk7XG4gICAgICBjb25zdCBjb2xzID0gTWF0aC5tYXgoXG4gICAgICAgIDI0LFxuICAgICAgICBNYXRoLm1pbig2NCwgTWF0aC5mbG9vcigocHJvZmlsZS53aWR0aERvdHMgfHwgNTc2KSAvIDgpKVxuICAgICAgKTtcbiAgICAgIGNodW5rcy5wdXNoKHRleHRMaW5lKFwiLVwiLnJlcGVhdChjb2xzKSkpO1xuICAgIH0gZWxzZSBpZiAodCA9PT0gXCJiYXJjb2RlXCIpIHtcbiAgICAgIGNvbnN0IHZhbCA9IGJpbmRUZXh0KGIudmFsdWUgfHwgXCJcIiwgZGF0YSk7XG4gICAgICBjaHVua3MucHVzaChhbGlnbihiLmFsaWduIHx8IFwibGVmdFwiKSk7XG4gICAgICBjaHVua3MucHVzaChcbiAgICAgICAgYmFyY29kZTEyOCh2YWwsIHtcbiAgICAgICAgICBoZWlnaHQ6IGIuaGVpZ2h0IHx8IDgwLFxuICAgICAgICAgIHdpZHRoOiBiLndpZHRoIHx8IDIsXG4gICAgICAgICAgaHJpOiBiLmhyaSA/PyAwLFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHQgPT09IFwicXJcIikge1xuICAgICAgY29uc3QgdmFsID0gYmluZFRleHQoYi52YWx1ZSB8fCBcIlwiLCBkYXRhKTtcbiAgICAgIGNodW5rcy5wdXNoKGFsaWduKGIuYWxpZ24gfHwgXCJsZWZ0XCIpKTtcbiAgICAgIGNodW5rcy5wdXNoKHFyKHZhbCwgeyBzaXplOiBiLnNpemUgfHwgNiwgZWM6IGIuZWMgfHwgXCJNXCIgfSkpO1xuICAgICAgY2h1bmtzLnB1c2goZmVlZCgxKSk7XG4gICAgfVxuICB9XG4gIGNodW5rcy5wdXNoKGZlZWQoMikpO1xuICBjaHVua3MucHVzaChjdXQoKSk7XG4gIHJldHVybiBCdWZmZXIuY29uY2F0KGNodW5rcyk7XG59XG4iXSwibmFtZXMiOlsiRVNDIiwiR1MiLCJieXRlcyIsInN0ciIsIkJ1ZmZlciIsImZyb20iLCJzaXplQ21kIiwidyIsImgiLCJOdW1iZXIiLCJpc0ludGVnZXIiLCJuIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiYWxpZ24iLCJtb2RlIiwibSIsInRleHRMaW5lIiwicyIsImNvbmNhdCIsImZlZWQiLCJjdXQiLCJyZW5kZXJXaXRoRmFsbGJhY2siLCJsaW5lcyIsImhlYWRlciIsIm1hcCIsImwiLCJidWlsZFJlY2VpcHQiLCJ0aXRsZSIsInNpemUiLCJjaHVua3MiLCJwdXNoIiwic3oiLCJ0b1N0cmluZyIsInN0YXJ0c1dpdGgiLCJmb3JFYWNoIiwiY2VudGVyIiwiYmluZFRleHQiLCJzY2FsZUZyb21Gb250IiwicHgiLCJxciIsImRhdGEiLCJlYyIsImRidWYiLCJlY01hcCIsIkwiLCJNIiwiUSIsIkgiLCJlY0J5dGUiLCJtb2RlbDIiLCJtb2R1bGUiLCJNYXRoIiwibWF4IiwibWluIiwibGV2ZWwiLCJwTCIsImxlbmd0aCIsInBIIiwic3RvcmUiLCJwcmludCIsImJhcmNvZGUxMjgiLCJoZWlnaHQiLCJ3aWR0aCIsImhyaSIsImQiLCJzZXRIIiwic2V0VyIsInNldEhSSSIsImsiLCJyZW5kZXJGcm9tQmxvY2tzIiwiYmxvY2tzIiwicHJvZmlsZSIsIndpZHRoRG90cyIsInNvcnRlZCIsInNvcnQiLCJhIiwiYiIsInkiLCJ4IiwidCIsInR5cGUiLCJmb250U2l6ZSIsIm1hcmtlciIsInRleHQiLCJjb2xzIiwiZmxvb3IiLCJyZXBlYXQiLCJ2YWwiLCJ2YWx1ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../packages/encoders/escpos.js\n");

/***/ }),

/***/ "(rsc)/../../packages/encoders/index.js":
/*!****************************************!*\
  !*** ../../packages/encoders/index.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   bind: () => (/* reexport module object */ _bind_js__WEBPACK_IMPORTED_MODULE_2__),\n/* harmony export */   escpos: () => (/* reexport module object */ _escpos_js__WEBPACK_IMPORTED_MODULE_0__),\n/* harmony export */   zpl: () => (/* reexport module object */ _zpl_js__WEBPACK_IMPORTED_MODULE_1__)\n/* harmony export */ });\n/* harmony import */ var _escpos_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./escpos.js */ \"(rsc)/../../packages/encoders/escpos.js\");\n/* harmony import */ var _zpl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./zpl.js */ \"(rsc)/../../packages/encoders/zpl.js\");\n/* harmony import */ var _bind_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./bind.js */ \"(rsc)/../../packages/encoders/bind.js\");\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvZW5jb2RlcnMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXNDO0FBQ047QUFDRSIsInNvdXJjZXMiOlsid2VicGFjazovL0BwcmludGNyYWZ0L3dlYi8uLi8uLi9wYWNrYWdlcy9lbmNvZGVycy9pbmRleC5qcz9iMjEwIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGFzIGVzY3BvcyBmcm9tIFwiLi9lc2Nwb3MuanNcIjtcbmV4cG9ydCAqIGFzIHpwbCBmcm9tIFwiLi96cGwuanNcIjtcbmV4cG9ydCAqIGFzIGJpbmQgZnJvbSBcIi4vYmluZC5qc1wiO1xuIl0sIm5hbWVzIjpbImVzY3BvcyIsInpwbCIsImJpbmQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../packages/encoders/index.js\n");

/***/ }),

/***/ "(rsc)/../../packages/encoders/zpl.js":
/*!**************************************!*\
  !*** ../../packages/encoders/zpl.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fromBlocks: () => (/* binding */ fromBlocks),\n/* harmony export */   simpleLabel: () => (/* binding */ simpleLabel)\n/* harmony export */ });\n/* harmony import */ var _bind_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bind.js */ \"(rsc)/../../packages/encoders/bind.js\");\n\nfunction z(s) {\n    return Buffer.from(s, \"ascii\");\n}\nfunction simpleLabel({ title = \"LABEL\", subtitle = \"\" }) {\n    const body = `^XA\n^PW600\n^FO50,40^A0N,40,40^FD${title}^FS\n^FO50,100^A0N,28,28^FD${subtitle}^FS\n^FO50,160^BCN,80,Y,N,N\n^FD1234567890^FS\n^XZ`;\n    return z(body);\n}\nfunction fromBlocks({ blocks = [], data = {}, width = 600 }) {\n    const lines = [\n        \"^XA\",\n        `^PW${width}`\n    ];\n    const sorted = [\n        ...blocks\n    ].sort((a, b)=>a.y - b.y || a.x - b.x);\n    for (const b of sorted){\n        if (b.type === \"text\") {\n            const fs = Math.max(18, Math.min(80, Math.round((b.fontSize || 16) * 1.6)));\n            lines.push(`^FO${Math.round(b.x)},${Math.round(b.y)}^A0N,${fs},${fs}^FD${(0,_bind_js__WEBPACK_IMPORTED_MODULE_0__.bindText)(b.text, data)}^FS`);\n        } else if (b.type === \"divider\") {\n            lines.push(`^FO${Math.round(b.x)},${Math.round(b.y)}^GB${Math.round(b.w || 500)},1,1^FS`);\n        } else if (b.type === \"barcode\") {\n            lines.push(`^FO${Math.round(b.x)},${Math.round(b.y)}^BCN,80,Y,N,N^FD${(0,_bind_js__WEBPACK_IMPORTED_MODULE_0__.bindText)(b.value || \"\", data)}^FS`);\n        } else if (b.type === \"qr\") {\n            const val = (0,_bind_js__WEBPACK_IMPORTED_MODULE_0__.bindText)(b.value || \"\", data);\n            lines.push(`^FO${Math.round(b.x)},${Math.round(b.y)}^BQN,2,6^FDLA,${val}^FS`);\n        }\n    }\n    lines.push(\"^XZ\");\n    return Buffer.from(lines.join(\"\\n\"), \"ascii\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvZW5jb2RlcnMvenBsLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFxQztBQUVyQyxTQUFTQyxFQUFFQyxDQUFDO0lBQ1YsT0FBT0MsT0FBT0MsSUFBSSxDQUFDRixHQUFHO0FBQ3hCO0FBRU8sU0FBU0csWUFBWSxFQUFFQyxRQUFRLE9BQU8sRUFBRUMsV0FBVyxFQUFFLEVBQUU7SUFDNUQsTUFBTUMsT0FBTyxDQUFDOztxQkFFSyxFQUFFRixNQUFNO3NCQUNQLEVBQUVDLFNBQVM7OztHQUc5QixDQUFDO0lBQ0YsT0FBT04sRUFBRU87QUFDWDtBQUVPLFNBQVNDLFdBQVcsRUFBRUMsU0FBUyxFQUFFLEVBQUVDLE9BQU8sQ0FBQyxDQUFDLEVBQUVDLFFBQVEsR0FBRyxFQUFFO0lBQ2hFLE1BQU1DLFFBQVE7UUFBQztRQUFPLENBQUMsR0FBRyxFQUFFRCxNQUFNLENBQUM7S0FBQztJQUNwQyxNQUFNRSxTQUFTO1dBQUlKO0tBQU8sQ0FBQ0ssSUFBSSxDQUFDLENBQUNDLEdBQUdDLElBQU1ELEVBQUVFLENBQUMsR0FBR0QsRUFBRUMsQ0FBQyxJQUFJRixFQUFFRyxDQUFDLEdBQUdGLEVBQUVFLENBQUM7SUFDaEUsS0FBSyxNQUFNRixLQUFLSCxPQUFRO1FBQ3RCLElBQUlHLEVBQUVHLElBQUksS0FBSyxRQUFRO1lBQ3JCLE1BQU1DLEtBQUtDLEtBQUtDLEdBQUcsQ0FDakIsSUFDQUQsS0FBS0UsR0FBRyxDQUFDLElBQUlGLEtBQUtHLEtBQUssQ0FBQyxDQUFDUixFQUFFUyxRQUFRLElBQUksRUFBQyxJQUFLO1lBRS9DYixNQUFNYyxJQUFJLENBQ1IsQ0FBQyxHQUFHLEVBQUVMLEtBQUtHLEtBQUssQ0FBQ1IsRUFBRUUsQ0FBQyxFQUFFLENBQUMsRUFBRUcsS0FBS0csS0FBSyxDQUFDUixFQUFFQyxDQUFDLEVBQUUsS0FBSyxFQUFFRyxHQUFHLENBQUMsRUFBRUEsR0FBRyxHQUFHLEVBQUVyQixrREFBUUEsQ0FDcEVpQixFQUFFVyxJQUFJLEVBQ05qQixNQUNBLEdBQUcsQ0FBQztRQUVWLE9BQU8sSUFBSU0sRUFBRUcsSUFBSSxLQUFLLFdBQVc7WUFDL0JQLE1BQU1jLElBQUksQ0FDUixDQUFDLEdBQUcsRUFBRUwsS0FBS0csS0FBSyxDQUFDUixFQUFFRSxDQUFDLEVBQUUsQ0FBQyxFQUFFRyxLQUFLRyxLQUFLLENBQUNSLEVBQUVDLENBQUMsRUFBRSxHQUFHLEVBQUVJLEtBQUtHLEtBQUssQ0FDdERSLEVBQUVZLENBQUMsSUFBSSxLQUNQLE9BQU8sQ0FBQztRQUVkLE9BQU8sSUFBSVosRUFBRUcsSUFBSSxLQUFLLFdBQVc7WUFDL0JQLE1BQU1jLElBQUksQ0FDUixDQUFDLEdBQUcsRUFBRUwsS0FBS0csS0FBSyxDQUFDUixFQUFFRSxDQUFDLEVBQUUsQ0FBQyxFQUFFRyxLQUFLRyxLQUFLLENBQUNSLEVBQUVDLENBQUMsRUFBRSxnQkFBZ0IsRUFBRWxCLGtEQUFRQSxDQUNqRWlCLEVBQUVhLEtBQUssSUFBSSxJQUNYbkIsTUFDQSxHQUFHLENBQUM7UUFFVixPQUFPLElBQUlNLEVBQUVHLElBQUksS0FBSyxNQUFNO1lBQzFCLE1BQU1XLE1BQU0vQixrREFBUUEsQ0FBQ2lCLEVBQUVhLEtBQUssSUFBSSxJQUFJbkI7WUFDcENFLE1BQU1jLElBQUksQ0FDUixDQUFDLEdBQUcsRUFBRUwsS0FBS0csS0FBSyxDQUFDUixFQUFFRSxDQUFDLEVBQUUsQ0FBQyxFQUFFRyxLQUFLRyxLQUFLLENBQUNSLEVBQUVDLENBQUMsRUFBRSxjQUFjLEVBQUVhLElBQUksR0FBRyxDQUFDO1FBRXJFO0lBQ0Y7SUFDQWxCLE1BQU1jLElBQUksQ0FBQztJQUNYLE9BQU94QixPQUFPQyxJQUFJLENBQUNTLE1BQU1tQixJQUFJLENBQUMsT0FBTztBQUN2QyIsInNvdXJjZXMiOlsid2VicGFjazovL0BwcmludGNyYWZ0L3dlYi8uLi8uLi9wYWNrYWdlcy9lbmNvZGVycy96cGwuanM/YjA2MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBiaW5kVGV4dCB9IGZyb20gXCIuL2JpbmQuanNcIjtcblxuZnVuY3Rpb24geihzKSB7XG4gIHJldHVybiBCdWZmZXIuZnJvbShzLCBcImFzY2lpXCIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2ltcGxlTGFiZWwoeyB0aXRsZSA9IFwiTEFCRUxcIiwgc3VidGl0bGUgPSBcIlwiIH0pIHtcbiAgY29uc3QgYm9keSA9IGBeWEFcbl5QVzYwMFxuXkZPNTAsNDBeQTBOLDQwLDQwXkZEJHt0aXRsZX1eRlNcbl5GTzUwLDEwMF5BME4sMjgsMjheRkQke3N1YnRpdGxlfV5GU1xuXkZPNTAsMTYwXkJDTiw4MCxZLE4sTlxuXkZEMTIzNDU2Nzg5MF5GU1xuXlhaYDtcbiAgcmV0dXJuIHooYm9keSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tQmxvY2tzKHsgYmxvY2tzID0gW10sIGRhdGEgPSB7fSwgd2lkdGggPSA2MDAgfSkge1xuICBjb25zdCBsaW5lcyA9IFtcIl5YQVwiLCBgXlBXJHt3aWR0aH1gXTtcbiAgY29uc3Qgc29ydGVkID0gWy4uLmJsb2Nrc10uc29ydCgoYSwgYikgPT4gYS55IC0gYi55IHx8IGEueCAtIGIueCk7XG4gIGZvciAoY29uc3QgYiBvZiBzb3J0ZWQpIHtcbiAgICBpZiAoYi50eXBlID09PSBcInRleHRcIikge1xuICAgICAgY29uc3QgZnMgPSBNYXRoLm1heChcbiAgICAgICAgMTgsXG4gICAgICAgIE1hdGgubWluKDgwLCBNYXRoLnJvdW5kKChiLmZvbnRTaXplIHx8IDE2KSAqIDEuNikpXG4gICAgICApO1xuICAgICAgbGluZXMucHVzaChcbiAgICAgICAgYF5GTyR7TWF0aC5yb3VuZChiLngpfSwke01hdGgucm91bmQoYi55KX1eQTBOLCR7ZnN9LCR7ZnN9XkZEJHtiaW5kVGV4dChcbiAgICAgICAgICBiLnRleHQsXG4gICAgICAgICAgZGF0YVxuICAgICAgICApfV5GU2BcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChiLnR5cGUgPT09IFwiZGl2aWRlclwiKSB7XG4gICAgICBsaW5lcy5wdXNoKFxuICAgICAgICBgXkZPJHtNYXRoLnJvdW5kKGIueCl9LCR7TWF0aC5yb3VuZChiLnkpfV5HQiR7TWF0aC5yb3VuZChcbiAgICAgICAgICBiLncgfHwgNTAwXG4gICAgICAgICl9LDEsMV5GU2BcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChiLnR5cGUgPT09IFwiYmFyY29kZVwiKSB7XG4gICAgICBsaW5lcy5wdXNoKFxuICAgICAgICBgXkZPJHtNYXRoLnJvdW5kKGIueCl9LCR7TWF0aC5yb3VuZChiLnkpfV5CQ04sODAsWSxOLE5eRkQke2JpbmRUZXh0KFxuICAgICAgICAgIGIudmFsdWUgfHwgXCJcIixcbiAgICAgICAgICBkYXRhXG4gICAgICAgICl9XkZTYFxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKGIudHlwZSA9PT0gXCJxclwiKSB7XG4gICAgICBjb25zdCB2YWwgPSBiaW5kVGV4dChiLnZhbHVlIHx8IFwiXCIsIGRhdGEpO1xuICAgICAgbGluZXMucHVzaChcbiAgICAgICAgYF5GTyR7TWF0aC5yb3VuZChiLngpfSwke01hdGgucm91bmQoYi55KX1eQlFOLDIsNl5GRExBLCR7dmFsfV5GU2BcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIGxpbmVzLnB1c2goXCJeWFpcIik7XG4gIHJldHVybiBCdWZmZXIuZnJvbShsaW5lcy5qb2luKFwiXFxuXCIpLCBcImFzY2lpXCIpO1xufVxuIl0sIm5hbWVzIjpbImJpbmRUZXh0IiwieiIsInMiLCJCdWZmZXIiLCJmcm9tIiwic2ltcGxlTGFiZWwiLCJ0aXRsZSIsInN1YnRpdGxlIiwiYm9keSIsImZyb21CbG9ja3MiLCJibG9ja3MiLCJkYXRhIiwid2lkdGgiLCJsaW5lcyIsInNvcnRlZCIsInNvcnQiLCJhIiwiYiIsInkiLCJ4IiwidHlwZSIsImZzIiwiTWF0aCIsIm1heCIsIm1pbiIsInJvdW5kIiwiZm9udFNpemUiLCJwdXNoIiwidGV4dCIsInciLCJ2YWx1ZSIsInZhbCIsImpvaW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../packages/encoders/zpl.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next@14.2.5_react-dom@18.3.1_react@18.3.1__react@18.3.1"], () => (__webpack_exec__("(rsc)/../../node_modules/.pnpm/next@14.2.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprint%2Froute&page=%2Fapi%2Fprint%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprint%2Froute.js&appDir=%2FUsers%2Fricky%2FDesktop%2FPrintCraft-Studio%2Fapps%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fricky%2FDesktop%2FPrintCraft-Studio%2Fapps%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();