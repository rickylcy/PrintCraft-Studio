"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/templates/[id]/download/route";
exports.ids = ["app/api/templates/[id]/download/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/next@14.2.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Ftemplates%2F%5Bid%5D%2Fdownload%2Froute&page=%2Fapi%2Ftemplates%2F%5Bid%5D%2Fdownload%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftemplates%2F%5Bid%5D%2Fdownload%2Froute.js&appDir=%2FUsers%2Fricky%2FDesktop%2FPrintCraft-Studio%2Fapps%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fricky%2FDesktop%2FPrintCraft-Studio%2Fapps%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/next@14.2.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Ftemplates%2F%5Bid%5D%2Fdownload%2Froute&page=%2Fapi%2Ftemplates%2F%5Bid%5D%2Fdownload%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftemplates%2F%5Bid%5D%2Fdownload%2Froute.js&appDir=%2FUsers%2Fricky%2FDesktop%2FPrintCraft-Studio%2Fapps%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fricky%2FDesktop%2FPrintCraft-Studio%2Fapps%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/../../node_modules/.pnpm/next@14.2.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/../../node_modules/.pnpm/next@14.2.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/../../node_modules/.pnpm/next@14.2.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_ricky_Desktop_PrintCraft_Studio_apps_web_app_api_templates_id_download_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/templates/[id]/download/route.js */ \"(rsc)/./app/api/templates/[id]/download/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/templates/[id]/download/route\",\n        pathname: \"/api/templates/[id]/download\",\n        filename: \"route\",\n        bundlePath: \"app/api/templates/[id]/download/route\"\n    },\n    resolvedPagePath: \"/Users/ricky/Desktop/PrintCraft-Studio/apps/web/app/api/templates/[id]/download/route.js\",\n    nextConfigOutput,\n    userland: _Users_ricky_Desktop_PrintCraft_Studio_apps_web_app_api_templates_id_download_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/templates/[id]/download/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTQuMi41X3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xX19yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1hcHAtbG9hZGVyLmpzP25hbWU9YXBwJTJGYXBpJTJGdGVtcGxhdGVzJTJGJTVCaWQlNUQlMkZkb3dubG9hZCUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGdGVtcGxhdGVzJTJGJTVCaWQlNUQlMkZkb3dubG9hZCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnRlbXBsYXRlcyUyRiU1QmlkJTVEJTJGZG93bmxvYWQlMkZyb3V0ZS5qcyZhcHBEaXI9JTJGVXNlcnMlMkZyaWNreSUyRkRlc2t0b3AlMkZQcmludENyYWZ0LVN0dWRpbyUyRmFwcHMlMkZ3ZWIlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGcmlja3klMkZEZXNrdG9wJTJGUHJpbnRDcmFmdC1TdHVkaW8lMkZhcHBzJTJGd2ViJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUN3QztBQUNySDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL0BwcmludGNyYWZ0L3dlYi8/NTlkMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvcmlja3kvRGVza3RvcC9QcmludENyYWZ0LVN0dWRpby9hcHBzL3dlYi9hcHAvYXBpL3RlbXBsYXRlcy9baWRdL2Rvd25sb2FkL3JvdXRlLmpzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS90ZW1wbGF0ZXMvW2lkXS9kb3dubG9hZC9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3RlbXBsYXRlcy9baWRdL2Rvd25sb2FkXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS90ZW1wbGF0ZXMvW2lkXS9kb3dubG9hZC9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy9yaWNreS9EZXNrdG9wL1ByaW50Q3JhZnQtU3R1ZGlvL2FwcHMvd2ViL2FwcC9hcGkvdGVtcGxhdGVzL1tpZF0vZG93bmxvYWQvcm91dGUuanNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3RlbXBsYXRlcy9baWRdL2Rvd25sb2FkL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/next@14.2.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Ftemplates%2F%5Bid%5D%2Fdownload%2Froute&page=%2Fapi%2Ftemplates%2F%5Bid%5D%2Fdownload%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftemplates%2F%5Bid%5D%2Fdownload%2Froute.js&appDir=%2FUsers%2Fricky%2FDesktop%2FPrintCraft-Studio%2Fapps%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fricky%2FDesktop%2FPrintCraft-Studio%2Fapps%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/templates/[id]/download/route.js":
/*!**************************************************!*\
  !*** ./app/api/templates/[id]/download/route.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/../../node_modules/.pnpm/next@14.2.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./lib/db.js\");\n/* harmony import */ var _lib_renderers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/renderers */ \"(rsc)/./lib/renderers.js\");\n// apps/web/app/api/templates/[id]/download/route.js\n\n\n\nasync function GET(req, { params }) {\n    try {\n        const url = new URL(req.url);\n        const type = (url.searchParams.get(\"type\") || \"\").toLowerCase() || \"escpos\";\n        const mode = (url.searchParams.get(\"mode\") || \"\").toLowerCase() || (type === \"escpos\" ? \"mnemonic\" : \"raw\");\n        const tplId = params.id;\n        const tpl = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.prisma.template.findUnique({\n            where: {\n                id: tplId\n            }\n        });\n        if (!tpl) return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            ok: false,\n            error: \"Template not found\"\n        }, {\n            status: 404\n        });\n        const content = JSON.parse(tpl.contentJson || '{\"blocks\":[]}');\n        const blocks = Array.isArray(content.blocks) ? content.blocks : [];\n        const widthDots = type === \"zpl\" ? 600 : 576;\n        if (type === \"zpl\") {\n            const body = (0,_lib_renderers__WEBPACK_IMPORTED_MODULE_2__.renderZpl)({\n                blocks,\n                data: {},\n                widthDots\n            });\n            const filename = `${(tpl.name || \"label\").replace(/\\s+/g, \"-\").toLowerCase()}.txt`; // <- .txt\n            const headers = new Headers({\n                \"Content-Type\": \"text/plain; charset=utf-8\",\n                \"Content-Disposition\": `attachment; filename=\"${filename}\"`,\n                \"Cache-Control\": \"no-store\"\n            });\n            return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(body, {\n                status: 200,\n                headers\n            });\n        }\n        // ESC/POS\n        const mnemonic = mode === \"mnemonic\";\n        const out = (0,_lib_renderers__WEBPACK_IMPORTED_MODULE_2__.renderEscpos)({\n            blocks,\n            data: {},\n            widthDots,\n            mnemonic\n        });\n        if (mnemonic) {\n            const filename = `${(tpl.name || \"receipt\").replace(/\\s+/g, \"-\").toLowerCase()}-escpos.txt`;\n            const headers = new Headers({\n                \"Content-Type\": \"text/plain; charset=utf-8\",\n                \"Content-Disposition\": `attachment; filename=\"${filename}\"`,\n                \"Cache-Control\": \"no-store\"\n            });\n            return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(out, {\n                status: 200,\n                headers\n            });\n        }\n        // raw bytes\n        const filename = `${(tpl.name || \"receipt\").replace(/\\s+/g, \"-\").toLowerCase()}-escpos.bin`;\n        const headers = new Headers({\n            \"Content-Type\": \"application/octet-stream\",\n            \"Content-Disposition\": `attachment; filename=\"${filename}\"`,\n            \"Cache-Control\": \"no-store\"\n        });\n        return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(out, {\n            status: 200,\n            headers\n        });\n    } catch (e) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            ok: false,\n            error: String(e.message || e)\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3RlbXBsYXRlcy9baWRdL2Rvd25sb2FkL3JvdXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxvREFBb0Q7QUFDVDtBQUNUO0FBQ3dCO0FBRW5ELGVBQWVJLElBQUlDLEdBQUcsRUFBRSxFQUFFQyxNQUFNLEVBQUU7SUFDdkMsSUFBSTtRQUNGLE1BQU1DLE1BQU0sSUFBSUMsSUFBSUgsSUFBSUUsR0FBRztRQUMzQixNQUFNRSxPQUFPLENBQUNGLElBQUlHLFlBQVksQ0FBQ0MsR0FBRyxDQUFDLFdBQVcsRUFBQyxFQUFHQyxXQUFXLE1BQU07UUFDbkUsTUFBTUMsT0FDSixDQUFDTixJQUFJRyxZQUFZLENBQUNDLEdBQUcsQ0FBQyxXQUFXLEVBQUMsRUFBR0MsV0FBVyxNQUMvQ0gsQ0FBQUEsU0FBUyxXQUFXLGFBQWEsS0FBSTtRQUN4QyxNQUFNSyxRQUFRUixPQUFPUyxFQUFFO1FBRXZCLE1BQU1DLE1BQU0sTUFBTWYsMkNBQU1BLENBQUNnQixRQUFRLENBQUNDLFVBQVUsQ0FBQztZQUFFQyxPQUFPO2dCQUFFSixJQUFJRDtZQUFNO1FBQUU7UUFDcEUsSUFBSSxDQUFDRSxLQUNILE9BQU9oQixxREFBWUEsQ0FBQ29CLElBQUksQ0FDdEI7WUFBRUMsSUFBSTtZQUFPQyxPQUFPO1FBQXFCLEdBQ3pDO1lBQUVDLFFBQVE7UUFBSTtRQUdsQixNQUFNQyxVQUFVQyxLQUFLQyxLQUFLLENBQUNWLElBQUlXLFdBQVcsSUFBSTtRQUM5QyxNQUFNQyxTQUFTQyxNQUFNQyxPQUFPLENBQUNOLFFBQVFJLE1BQU0sSUFBSUosUUFBUUksTUFBTSxHQUFHLEVBQUU7UUFDbEUsTUFBTUcsWUFBWXRCLFNBQVMsUUFBUSxNQUFNO1FBRXpDLElBQUlBLFNBQVMsT0FBTztZQUNsQixNQUFNdUIsT0FBTzdCLHlEQUFTQSxDQUFDO2dCQUFFeUI7Z0JBQVFLLE1BQU0sQ0FBQztnQkFBR0Y7WUFBVTtZQUNyRCxNQUFNRyxXQUFXLENBQUMsRUFBRSxDQUFDbEIsSUFBSW1CLElBQUksSUFBSSxPQUFNLEVBQ3BDQyxPQUFPLENBQUMsUUFBUSxLQUNoQnhCLFdBQVcsR0FBRyxJQUFJLENBQUMsRUFBRSxVQUFVO1lBQ2xDLE1BQU15QixVQUFVLElBQUlDLFFBQVE7Z0JBQzFCLGdCQUFnQjtnQkFDaEIsdUJBQXVCLENBQUMsc0JBQXNCLEVBQUVKLFNBQVMsQ0FBQyxDQUFDO2dCQUMzRCxpQkFBaUI7WUFDbkI7WUFDQSxPQUFPLElBQUlsQyxxREFBWUEsQ0FBQ2dDLE1BQU07Z0JBQUVULFFBQVE7Z0JBQUtjO1lBQVE7UUFDdkQ7UUFFQSxVQUFVO1FBQ1YsTUFBTUUsV0FBVzFCLFNBQVM7UUFDMUIsTUFBTTJCLE1BQU10Qyw0REFBWUEsQ0FBQztZQUFFMEI7WUFBUUssTUFBTSxDQUFDO1lBQUdGO1lBQVdRO1FBQVM7UUFFakUsSUFBSUEsVUFBVTtZQUNaLE1BQU1MLFdBQVcsQ0FBQyxFQUFFLENBQUNsQixJQUFJbUIsSUFBSSxJQUFJLFNBQVEsRUFDdENDLE9BQU8sQ0FBQyxRQUFRLEtBQ2hCeEIsV0FBVyxHQUFHLFdBQVcsQ0FBQztZQUM3QixNQUFNeUIsVUFBVSxJQUFJQyxRQUFRO2dCQUMxQixnQkFBZ0I7Z0JBQ2hCLHVCQUF1QixDQUFDLHNCQUFzQixFQUFFSixTQUFTLENBQUMsQ0FBQztnQkFDM0QsaUJBQWlCO1lBQ25CO1lBQ0EsT0FBTyxJQUFJbEMscURBQVlBLENBQUN3QyxLQUFLO2dCQUFFakIsUUFBUTtnQkFBS2M7WUFBUTtRQUN0RDtRQUVBLFlBQVk7UUFDWixNQUFNSCxXQUFXLENBQUMsRUFBRSxDQUFDbEIsSUFBSW1CLElBQUksSUFBSSxTQUFRLEVBQ3RDQyxPQUFPLENBQUMsUUFBUSxLQUNoQnhCLFdBQVcsR0FBRyxXQUFXLENBQUM7UUFDN0IsTUFBTXlCLFVBQVUsSUFBSUMsUUFBUTtZQUMxQixnQkFBZ0I7WUFDaEIsdUJBQXVCLENBQUMsc0JBQXNCLEVBQUVKLFNBQVMsQ0FBQyxDQUFDO1lBQzNELGlCQUFpQjtRQUNuQjtRQUNBLE9BQU8sSUFBSWxDLHFEQUFZQSxDQUFDd0MsS0FBSztZQUFFakIsUUFBUTtZQUFLYztRQUFRO0lBQ3RELEVBQUUsT0FBT0ksR0FBRztRQUNWLE9BQU96QyxxREFBWUEsQ0FBQ29CLElBQUksQ0FDdEI7WUFBRUMsSUFBSTtZQUFPQyxPQUFPb0IsT0FBT0QsRUFBRUUsT0FBTyxJQUFJRjtRQUFHLEdBQzNDO1lBQUVsQixRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL0BwcmludGNyYWZ0L3dlYi8uL2FwcC9hcGkvdGVtcGxhdGVzL1tpZF0vZG93bmxvYWQvcm91dGUuanM/ZmMwNSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBhcHBzL3dlYi9hcHAvYXBpL3RlbXBsYXRlcy9baWRdL2Rvd25sb2FkL3JvdXRlLmpzXG5pbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcbmltcG9ydCB7IHByaXNtYSB9IGZyb20gXCJAL2xpYi9kYlwiO1xuaW1wb3J0IHsgcmVuZGVyRXNjcG9zLCByZW5kZXJacGwgfSBmcm9tIFwiQC9saWIvcmVuZGVyZXJzXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxLCB7IHBhcmFtcyB9KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgdXJsID0gbmV3IFVSTChyZXEudXJsKTtcbiAgICBjb25zdCB0eXBlID0gKHVybC5zZWFyY2hQYXJhbXMuZ2V0KFwidHlwZVwiKSB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpIHx8IFwiZXNjcG9zXCI7XG4gICAgY29uc3QgbW9kZSA9XG4gICAgICAodXJsLnNlYXJjaFBhcmFtcy5nZXQoXCJtb2RlXCIpIHx8IFwiXCIpLnRvTG93ZXJDYXNlKCkgfHxcbiAgICAgICh0eXBlID09PSBcImVzY3Bvc1wiID8gXCJtbmVtb25pY1wiIDogXCJyYXdcIik7XG4gICAgY29uc3QgdHBsSWQgPSBwYXJhbXMuaWQ7XG5cbiAgICBjb25zdCB0cGwgPSBhd2FpdCBwcmlzbWEudGVtcGxhdGUuZmluZFVuaXF1ZSh7IHdoZXJlOiB7IGlkOiB0cGxJZCB9IH0pO1xuICAgIGlmICghdHBsKVxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IG9rOiBmYWxzZSwgZXJyb3I6IFwiVGVtcGxhdGUgbm90IGZvdW5kXCIgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwNCB9XG4gICAgICApO1xuXG4gICAgY29uc3QgY29udGVudCA9IEpTT04ucGFyc2UodHBsLmNvbnRlbnRKc29uIHx8ICd7XCJibG9ja3NcIjpbXX0nKTtcbiAgICBjb25zdCBibG9ja3MgPSBBcnJheS5pc0FycmF5KGNvbnRlbnQuYmxvY2tzKSA/IGNvbnRlbnQuYmxvY2tzIDogW107XG4gICAgY29uc3Qgd2lkdGhEb3RzID0gdHlwZSA9PT0gXCJ6cGxcIiA/IDYwMCA6IDU3NjtcblxuICAgIGlmICh0eXBlID09PSBcInpwbFwiKSB7XG4gICAgICBjb25zdCBib2R5ID0gcmVuZGVyWnBsKHsgYmxvY2tzLCBkYXRhOiB7fSwgd2lkdGhEb3RzIH0pO1xuICAgICAgY29uc3QgZmlsZW5hbWUgPSBgJHsodHBsLm5hbWUgfHwgXCJsYWJlbFwiKVxuICAgICAgICAucmVwbGFjZSgvXFxzKy9nLCBcIi1cIilcbiAgICAgICAgLnRvTG93ZXJDYXNlKCl9LnR4dGA7IC8vIDwtIC50eHRcbiAgICAgIGNvbnN0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwidGV4dC9wbGFpbjsgY2hhcnNldD11dGYtOFwiLFxuICAgICAgICBcIkNvbnRlbnQtRGlzcG9zaXRpb25cIjogYGF0dGFjaG1lbnQ7IGZpbGVuYW1lPVwiJHtmaWxlbmFtZX1cImAsXG4gICAgICAgIFwiQ2FjaGUtQ29udHJvbFwiOiBcIm5vLXN0b3JlXCIsXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBuZXcgTmV4dFJlc3BvbnNlKGJvZHksIHsgc3RhdHVzOiAyMDAsIGhlYWRlcnMgfSk7XG4gICAgfVxuXG4gICAgLy8gRVNDL1BPU1xuICAgIGNvbnN0IG1uZW1vbmljID0gbW9kZSA9PT0gXCJtbmVtb25pY1wiO1xuICAgIGNvbnN0IG91dCA9IHJlbmRlckVzY3Bvcyh7IGJsb2NrcywgZGF0YToge30sIHdpZHRoRG90cywgbW5lbW9uaWMgfSk7XG5cbiAgICBpZiAobW5lbW9uaWMpIHtcbiAgICAgIGNvbnN0IGZpbGVuYW1lID0gYCR7KHRwbC5uYW1lIHx8IFwicmVjZWlwdFwiKVxuICAgICAgICAucmVwbGFjZSgvXFxzKy9nLCBcIi1cIilcbiAgICAgICAgLnRvTG93ZXJDYXNlKCl9LWVzY3Bvcy50eHRgO1xuICAgICAgY29uc3QgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHtcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJ0ZXh0L3BsYWluOyBjaGFyc2V0PXV0Zi04XCIsXG4gICAgICAgIFwiQ29udGVudC1EaXNwb3NpdGlvblwiOiBgYXR0YWNobWVudDsgZmlsZW5hbWU9XCIke2ZpbGVuYW1lfVwiYCxcbiAgICAgICAgXCJDYWNoZS1Db250cm9sXCI6IFwibm8tc3RvcmVcIixcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG5ldyBOZXh0UmVzcG9uc2Uob3V0LCB7IHN0YXR1czogMjAwLCBoZWFkZXJzIH0pO1xuICAgIH1cblxuICAgIC8vIHJhdyBieXRlc1xuICAgIGNvbnN0IGZpbGVuYW1lID0gYCR7KHRwbC5uYW1lIHx8IFwicmVjZWlwdFwiKVxuICAgICAgLnJlcGxhY2UoL1xccysvZywgXCItXCIpXG4gICAgICAudG9Mb3dlckNhc2UoKX0tZXNjcG9zLmJpbmA7XG4gICAgY29uc3QgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHtcbiAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCIsXG4gICAgICBcIkNvbnRlbnQtRGlzcG9zaXRpb25cIjogYGF0dGFjaG1lbnQ7IGZpbGVuYW1lPVwiJHtmaWxlbmFtZX1cImAsXG4gICAgICBcIkNhY2hlLUNvbnRyb2xcIjogXCJuby1zdG9yZVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBuZXcgTmV4dFJlc3BvbnNlKG91dCwgeyBzdGF0dXM6IDIwMCwgaGVhZGVycyB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgb2s6IGZhbHNlLCBlcnJvcjogU3RyaW5nKGUubWVzc2FnZSB8fCBlKSB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsInByaXNtYSIsInJlbmRlckVzY3BvcyIsInJlbmRlclpwbCIsIkdFVCIsInJlcSIsInBhcmFtcyIsInVybCIsIlVSTCIsInR5cGUiLCJzZWFyY2hQYXJhbXMiLCJnZXQiLCJ0b0xvd2VyQ2FzZSIsIm1vZGUiLCJ0cGxJZCIsImlkIiwidHBsIiwidGVtcGxhdGUiLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJqc29uIiwib2siLCJlcnJvciIsInN0YXR1cyIsImNvbnRlbnQiLCJKU09OIiwicGFyc2UiLCJjb250ZW50SnNvbiIsImJsb2NrcyIsIkFycmF5IiwiaXNBcnJheSIsIndpZHRoRG90cyIsImJvZHkiLCJkYXRhIiwiZmlsZW5hbWUiLCJuYW1lIiwicmVwbGFjZSIsImhlYWRlcnMiLCJIZWFkZXJzIiwibW5lbW9uaWMiLCJvdXQiLCJlIiwiU3RyaW5nIiwibWVzc2FnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/templates/[id]/download/route.js\n");

/***/ }),

/***/ "(rsc)/./lib/db.js":
/*!*******************!*\
  !*** ./lib/db.js ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n\n\n// Force an absolute sqlite path for runtime (Next runs from apps/web)\nif (process.env.DATABASE_URL?.startsWith(\"file:\")) {\n    const url = process.env.DATABASE_URL.slice(5); // after \"file:\"\n    const isAbs = url.startsWith(\"/\") || url.startsWith(\"\\\\\");\n    if (!isAbs) {\n        const abs = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), url); // resolve relative to apps/web\n        process.env.DATABASE_URL = `file:${abs}`;\n    }\n}\nconst globalForPrisma = globalThis;\nconst prisma = globalForPrisma.prisma || new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nif (true) globalForPrisma.prisma = prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBOEM7QUFDdEI7QUFFeEIsc0VBQXNFO0FBQ3RFLElBQUlFLFFBQVFDLEdBQUcsQ0FBQ0MsWUFBWSxFQUFFQyxXQUFXLFVBQVU7SUFDakQsTUFBTUMsTUFBTUosUUFBUUMsR0FBRyxDQUFDQyxZQUFZLENBQUNHLEtBQUssQ0FBQyxJQUFJLGdCQUFnQjtJQUMvRCxNQUFNQyxRQUFRRixJQUFJRCxVQUFVLENBQUMsUUFBUUMsSUFBSUQsVUFBVSxDQUFDO0lBQ3BELElBQUksQ0FBQ0csT0FBTztRQUNWLE1BQU1DLE1BQU1SLGdEQUFTLENBQUNDLFFBQVFTLEdBQUcsSUFBSUwsTUFBTSwrQkFBK0I7UUFDMUVKLFFBQVFDLEdBQUcsQ0FBQ0MsWUFBWSxHQUFHLENBQUMsS0FBSyxFQUFFSyxJQUFJLENBQUM7SUFDMUM7QUFDRjtBQUVBLE1BQU1HLGtCQUFrQkM7QUFDakIsTUFBTUMsU0FBU0YsZ0JBQWdCRSxNQUFNLElBQUksSUFBSWQsd0RBQVlBLEdBQUc7QUFDbkUsSUFBSUUsSUFBcUMsRUFBRVUsZ0JBQWdCRSxNQUFNLEdBQUdBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHByaW50Y3JhZnQvd2ViLy4vbGliL2RiLmpzPzNkYzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJpc21hQ2xpZW50IH0gZnJvbSBcIkBwcmlzbWEvY2xpZW50XCI7XG5pbXBvcnQgcGF0aCBmcm9tIFwicGF0aFwiO1xuXG4vLyBGb3JjZSBhbiBhYnNvbHV0ZSBzcWxpdGUgcGF0aCBmb3IgcnVudGltZSAoTmV4dCBydW5zIGZyb20gYXBwcy93ZWIpXG5pZiAocHJvY2Vzcy5lbnYuREFUQUJBU0VfVVJMPy5zdGFydHNXaXRoKFwiZmlsZTpcIikpIHtcbiAgY29uc3QgdXJsID0gcHJvY2Vzcy5lbnYuREFUQUJBU0VfVVJMLnNsaWNlKDUpOyAvLyBhZnRlciBcImZpbGU6XCJcbiAgY29uc3QgaXNBYnMgPSB1cmwuc3RhcnRzV2l0aChcIi9cIikgfHwgdXJsLnN0YXJ0c1dpdGgoXCJcXFxcXCIpO1xuICBpZiAoIWlzQWJzKSB7XG4gICAgY29uc3QgYWJzID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksIHVybCk7IC8vIHJlc29sdmUgcmVsYXRpdmUgdG8gYXBwcy93ZWJcbiAgICBwcm9jZXNzLmVudi5EQVRBQkFTRV9VUkwgPSBgZmlsZToke2Fic31gO1xuICB9XG59XG5cbmNvbnN0IGdsb2JhbEZvclByaXNtYSA9IGdsb2JhbFRoaXM7XG5leHBvcnQgY29uc3QgcHJpc21hID0gZ2xvYmFsRm9yUHJpc21hLnByaXNtYSB8fCBuZXcgUHJpc21hQ2xpZW50KCk7XG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSBnbG9iYWxGb3JQcmlzbWEucHJpc21hID0gcHJpc21hO1xuIl0sIm5hbWVzIjpbIlByaXNtYUNsaWVudCIsInBhdGgiLCJwcm9jZXNzIiwiZW52IiwiREFUQUJBU0VfVVJMIiwic3RhcnRzV2l0aCIsInVybCIsInNsaWNlIiwiaXNBYnMiLCJhYnMiLCJqb2luIiwiY3dkIiwiZ2xvYmFsRm9yUHJpc21hIiwiZ2xvYmFsVGhpcyIsInByaXNtYSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/db.js\n");

/***/ }),

/***/ "(rsc)/./lib/renderers.js":
/*!**************************!*\
  !*** ./lib/renderers.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   renderEscpos: () => (/* binding */ renderEscpos),\n/* harmony export */   renderZpl: () => (/* binding */ renderZpl)\n/* harmony export */ });\n// apps/web/lib/renderers.js\n// Render editor blocks to ESC/POS (raw bytes or mnemonic text) and ZPL (raw text)\nconst ESC = \"\\x1b\";\nconst GS = \"\\x1d\";\n// --- helpers ---\nconst bBin = (s)=>Buffer.from(s, \"binary\");\nconst bAscii = (s)=>Buffer.from(s, \"ascii\");\nconst line = (s = \"\")=>s + \"\\n\";\nfunction n16(val) {\n    const n = Math.max(0, Math.floor(val || 0));\n    return [\n        n & 0xff,\n        n >> 8 & 0xff\n    ]; // [nL, nH]\n}\nfunction hex2(n) {\n    return \"0x\" + (n & 0xff).toString(16).padStart(2, \"0\");\n}\nfunction get(obj, path) {\n    return path.split(\".\").reduce((a, k)=>a && a[k] != null ? a[k] : \"\", obj);\n}\nfunction resolveBindings(text = \"\", data = {}) {\n    return String(text).replace(/\\{\\{\\s*([^}]+)\\s*\\}\\}/g, (_, p)=>String(get(data, p.trim()) ?? \"\"));\n}\nfunction sortBlocks(blocks = []) {\n    return [\n        ...blocks || []\n    ].sort((a, b)=>(a.y ?? 0) - (b.y ?? 0) || (a.x ?? 0) - (b.x ?? 0));\n}\n// rough mapping font px → ESC/POS size multiplier\nfunction sizeFromFont(px = 16) {\n    const m = Math.max(1, Math.min(8, Math.round(px / 16)));\n    return {\n        w: m,\n        h: m\n    };\n}\n// ==============================\n// ESC/POS (mnemonic or raw bytes)\n// ==============================\nfunction renderEscpos({ blocks = [], data = {}, widthDots = 576, mnemonic = true }) {\n    const ordered = sortBlocks(blocks).filter((b)=>b.type === \"text\" && (b.text ?? \"\").length);\n    if (mnemonic) {\n        let out = \"\";\n        out += line(\"# ESC/POS (mnemonic export for review)\");\n        out += line(\"ESC @                  ; Initialize\");\n        let lastAlign = null;\n        let lastSizeKey = null;\n        for (const t of ordered){\n            const txt = resolveBindings(t.text, data);\n            const align = t.align || \"left\";\n            const size = sizeFromFont(t.fontSize || 16);\n            const sizeKey = `${size.w}x${size.h}`;\n            // Align\n            if (align !== lastAlign) {\n                const m = align === \"center\" ? 1 : align === \"right\" ? 2 : 0;\n                out += line(`ESC a ${m}  ; Align ${align}`);\n                lastAlign = align;\n            }\n            // Size (GS ! n)\n            if (sizeKey !== lastSizeKey) {\n                const n = size.w - 1 << 4 | size.h - 1;\n                out += line(`GS ! ${hex2(n)}           ; Size ${size.w}x`);\n                lastSizeKey = sizeKey;\n            }\n            // Left indent via GS L / print area via GS W (then reset)\n            const leftMargin = Math.max(0, Math.round(t.x || 0)); // indent from block.x\n            const areaWidth = Math.max(0, widthDots - leftMargin);\n            out += line(`GS L ${leftMargin}             ; Left margin = ${leftMargin} dots`);\n            out += line(`GS W ${areaWidth}            ; Print area width = ${areaWidth} dots`);\n            out += line(`TXT \"${txt.replace(/\"/g, '\\\\\"')}\"`);\n            out += line(\"LF\");\n            out += line(`GS L 0              ; Reset margin`);\n            out += line(`GS W ${widthDots}            ; Reset area width`);\n        }\n        out += line(\"ESC d 2             ; Feed 2 lines\");\n        out += line(\"GS V 0              ; Cut\");\n        return out; // string\n    }\n    // RAW bytes\n    const chunks = [];\n    chunks.push(bBin(ESC + \"@\")); // init\n    let lastAlign = null;\n    let lastSizeKey = null;\n    for (const t of ordered){\n        const txt = resolveBindings(t.text, data);\n        const align = t.align || \"left\";\n        const size = sizeFromFont(t.fontSize || 16);\n        const sizeKey = `${size.w}x${size.h}`;\n        // Align\n        if (align !== lastAlign) {\n            const m = align === \"center\" ? 1 : align === \"right\" ? 2 : 0;\n            chunks.push(bBin(ESC + \"a\" + String.fromCharCode(m)));\n            lastAlign = align;\n        }\n        // Size\n        if (sizeKey !== lastSizeKey) {\n            const n = size.w - 1 << 4 | size.h - 1;\n            chunks.push(bBin(GS + \"!\" + String.fromCharCode(n)));\n            lastSizeKey = sizeKey;\n        }\n        // Per-line left margin & print area width\n        const leftMargin = Math.max(0, Math.round(t.x || 0));\n        const areaWidth = Math.max(0, widthDots - leftMargin);\n        const [lmL, lmH] = n16(leftMargin);\n        const [awL, awH] = n16(areaWidth);\n        chunks.push(bBin(GS + \"L\" + String.fromCharCode(lmL) + String.fromCharCode(lmH))); // GS L nL nH\n        chunks.push(bBin(GS + \"W\" + String.fromCharCode(awL) + String.fromCharCode(awH))); // GS W nL nH\n        // Content + LF\n        chunks.push(bAscii(txt));\n        chunks.push(bBin(\"\\n\"));\n        // Reset margin/area\n        const [wL, wH] = n16(widthDots);\n        chunks.push(bBin(GS + \"L\" + \"\\0\" + \"\\0\")); // GS L 0\n        chunks.push(bBin(GS + \"W\" + String.fromCharCode(wL) + String.fromCharCode(wH))); // GS W width\n    }\n    // feed & cut\n    chunks.push(bBin(ESC + \"d\" + \"\\x02\"));\n    chunks.push(bBin(GS + \"V\" + \"\\0\"));\n    return Buffer.concat(chunks);\n}\n// =====\n//  ZPL\n// =====\nfunction renderZpl({ blocks = [], data = {}, widthDots = 600 }) {\n    const ordered = sortBlocks(blocks);\n    let z = \"^XA\\n\";\n    z += `^PW${Math.max(0, Math.round(widthDots))}\\n`;\n    for (const b of ordered){\n        if (b.type !== \"text\" || !(b.text ?? \"\").length) continue;\n        const txt = resolveBindings(b.text, data);\n        const x = Math.max(0, Math.round(b.x || 0));\n        const y = Math.max(0, Math.round(b.y || 0));\n        const h = Math.max(10, Math.round(b.fontSize || 16));\n        const w = h;\n        z += `^FO${x},${y}^A0N,${h},${w}^FD${txt.replace(/\\^/g, \" \")}^FS\\n`;\n    }\n    z += \"^XZ\";\n    return z; // string\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvcmVuZGVyZXJzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsNEJBQTRCO0FBQzVCLGtGQUFrRjtBQUVsRixNQUFNQSxNQUFNO0FBQ1osTUFBTUMsS0FBSztBQUVYLGtCQUFrQjtBQUNsQixNQUFNQyxPQUFPLENBQUNDLElBQU1DLE9BQU9DLElBQUksQ0FBQ0YsR0FBRztBQUNuQyxNQUFNRyxTQUFTLENBQUNILElBQU1DLE9BQU9DLElBQUksQ0FBQ0YsR0FBRztBQUNyQyxNQUFNSSxPQUFPLENBQUNKLElBQUksRUFBRSxHQUFLQSxJQUFJO0FBRTdCLFNBQVNLLElBQUlDLEdBQUc7SUFDZCxNQUFNQyxJQUFJQyxLQUFLQyxHQUFHLENBQUMsR0FBR0QsS0FBS0UsS0FBSyxDQUFDSixPQUFPO0lBQ3hDLE9BQU87UUFBQ0MsSUFBSTtRQUFPQSxLQUFLLElBQUs7S0FBSyxFQUFFLFdBQVc7QUFDakQ7QUFFQSxTQUFTSSxLQUFLSixDQUFDO0lBQ2IsT0FBTyxPQUFPLENBQUNBLElBQUksSUFBRyxFQUFHSyxRQUFRLENBQUMsSUFBSUMsUUFBUSxDQUFDLEdBQUc7QUFDcEQ7QUFFQSxTQUFTQyxJQUFJQyxHQUFHLEVBQUVDLElBQUk7SUFDcEIsT0FBT0EsS0FBS0MsS0FBSyxDQUFDLEtBQUtDLE1BQU0sQ0FBQyxDQUFDQyxHQUFHQyxJQUFPRCxLQUFLQSxDQUFDLENBQUNDLEVBQUUsSUFBSSxPQUFPRCxDQUFDLENBQUNDLEVBQUUsR0FBRyxJQUFLTDtBQUMzRTtBQUVBLFNBQVNNLGdCQUFnQkMsT0FBTyxFQUFFLEVBQUVDLE9BQU8sQ0FBQyxDQUFDO0lBQzNDLE9BQU9DLE9BQU9GLE1BQU1HLE9BQU8sQ0FBQywwQkFBMEIsQ0FBQ0MsR0FBR0MsSUFDeERILE9BQU9WLElBQUlTLE1BQU1JLEVBQUVDLElBQUksT0FBTztBQUVsQztBQUVBLFNBQVNDLFdBQVdDLFNBQVMsRUFBRTtJQUM3QixPQUFPO1dBQUtBLFVBQVUsRUFBRTtLQUFFLENBQUNDLElBQUksQ0FDN0IsQ0FBQ1osR0FBR2EsSUFBTSxDQUFDYixFQUFFYyxDQUFDLElBQUksS0FBTUQsQ0FBQUEsRUFBRUMsQ0FBQyxJQUFJLE1BQU0sQ0FBQ2QsRUFBRWUsQ0FBQyxJQUFJLEtBQU1GLENBQUFBLEVBQUVFLENBQUMsSUFBSTtBQUU5RDtBQUVBLGtEQUFrRDtBQUNsRCxTQUFTQyxhQUFhQyxLQUFLLEVBQUU7SUFDM0IsTUFBTUMsSUFBSTdCLEtBQUtDLEdBQUcsQ0FBQyxHQUFHRCxLQUFLOEIsR0FBRyxDQUFDLEdBQUc5QixLQUFLK0IsS0FBSyxDQUFDSCxLQUFLO0lBQ2xELE9BQU87UUFBRUksR0FBR0g7UUFBR0ksR0FBR0o7SUFBRTtBQUN0QjtBQUVBLGlDQUFpQztBQUNqQyxrQ0FBa0M7QUFDbEMsaUNBQWlDO0FBQzFCLFNBQVNLLGFBQWEsRUFDM0JaLFNBQVMsRUFBRSxFQUNYUCxPQUFPLENBQUMsQ0FBQyxFQUNUb0IsWUFBWSxHQUFHLEVBQ2ZDLFdBQVcsSUFBSSxFQUNoQjtJQUNDLE1BQU1DLFVBQVVoQixXQUFXQyxRQUFRZ0IsTUFBTSxDQUN2QyxDQUFDZCxJQUFNQSxFQUFFZSxJQUFJLEtBQUssVUFBVSxDQUFDZixFQUFFVixJQUFJLElBQUksRUFBQyxFQUFHMEIsTUFBTTtJQUduRCxJQUFJSixVQUFVO1FBQ1osSUFBSUssTUFBTTtRQUNWQSxPQUFPN0MsS0FBSztRQUNaNkMsT0FBTzdDLEtBQUs7UUFFWixJQUFJOEMsWUFBWTtRQUNoQixJQUFJQyxjQUFjO1FBRWxCLEtBQUssTUFBTUMsS0FBS1AsUUFBUztZQUN2QixNQUFNUSxNQUFNaEMsZ0JBQWdCK0IsRUFBRTlCLElBQUksRUFBRUM7WUFDcEMsTUFBTStCLFFBQVFGLEVBQUVFLEtBQUssSUFBSTtZQUN6QixNQUFNQyxPQUFPcEIsYUFBYWlCLEVBQUVJLFFBQVEsSUFBSTtZQUN4QyxNQUFNQyxVQUFVLENBQUMsRUFBRUYsS0FBS2YsQ0FBQyxDQUFDLENBQUMsRUFBRWUsS0FBS2QsQ0FBQyxDQUFDLENBQUM7WUFFckMsUUFBUTtZQUNSLElBQUlhLFVBQVVKLFdBQVc7Z0JBQ3ZCLE1BQU1iLElBQUlpQixVQUFVLFdBQVcsSUFBSUEsVUFBVSxVQUFVLElBQUk7Z0JBQzNETCxPQUFPN0MsS0FBSyxDQUFDLE1BQU0sRUFBRWlDLEVBQUUsVUFBVSxFQUFFaUIsTUFBTSxDQUFDO2dCQUMxQ0osWUFBWUk7WUFDZDtZQUVBLGdCQUFnQjtZQUNoQixJQUFJRyxZQUFZTixhQUFhO2dCQUMzQixNQUFNNUMsSUFBSSxLQUFPaUMsQ0FBQyxHQUFHLEtBQU0sSUFBTWUsS0FBS2QsQ0FBQyxHQUFHO2dCQUMxQ1EsT0FBTzdDLEtBQUssQ0FBQyxLQUFLLEVBQUVPLEtBQUtKLEdBQUcsa0JBQWtCLEVBQUVnRCxLQUFLZixDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUN6RFcsY0FBY007WUFDaEI7WUFFQSwwREFBMEQ7WUFDMUQsTUFBTUMsYUFBYWxELEtBQUtDLEdBQUcsQ0FBQyxHQUFHRCxLQUFLK0IsS0FBSyxDQUFDYSxFQUFFbEIsQ0FBQyxJQUFJLEtBQUssc0JBQXNCO1lBQzVFLE1BQU15QixZQUFZbkQsS0FBS0MsR0FBRyxDQUFDLEdBQUdrQyxZQUFZZTtZQUUxQ1QsT0FBTzdDLEtBQ0wsQ0FBQyxLQUFLLEVBQUVzRCxXQUFXLDZCQUE2QixFQUFFQSxXQUFXLEtBQUssQ0FBQztZQUVyRVQsT0FBTzdDLEtBQ0wsQ0FBQyxLQUFLLEVBQUV1RCxVQUFVLGlDQUFpQyxFQUFFQSxVQUFVLEtBQUssQ0FBQztZQUV2RVYsT0FBTzdDLEtBQUssQ0FBQyxLQUFLLEVBQUVpRCxJQUFJNUIsT0FBTyxDQUFDLE1BQU0sT0FBTyxDQUFDLENBQUM7WUFDL0N3QixPQUFPN0MsS0FBSztZQUNaNkMsT0FBTzdDLEtBQUssQ0FBQyxrQ0FBa0MsQ0FBQztZQUNoRDZDLE9BQU83QyxLQUFLLENBQUMsS0FBSyxFQUFFdUMsVUFBVSw4QkFBOEIsQ0FBQztRQUMvRDtRQUVBTSxPQUFPN0MsS0FBSztRQUNaNkMsT0FBTzdDLEtBQUs7UUFDWixPQUFPNkMsS0FBSyxTQUFTO0lBQ3ZCO0lBRUEsWUFBWTtJQUNaLE1BQU1XLFNBQVMsRUFBRTtJQUNqQkEsT0FBT0MsSUFBSSxDQUFDOUQsS0FBS0YsTUFBTSxPQUFPLE9BQU87SUFFckMsSUFBSXFELFlBQVk7SUFDaEIsSUFBSUMsY0FBYztJQUVsQixLQUFLLE1BQU1DLEtBQUtQLFFBQVM7UUFDdkIsTUFBTVEsTUFBTWhDLGdCQUFnQitCLEVBQUU5QixJQUFJLEVBQUVDO1FBQ3BDLE1BQU0rQixRQUFRRixFQUFFRSxLQUFLLElBQUk7UUFDekIsTUFBTUMsT0FBT3BCLGFBQWFpQixFQUFFSSxRQUFRLElBQUk7UUFDeEMsTUFBTUMsVUFBVSxDQUFDLEVBQUVGLEtBQUtmLENBQUMsQ0FBQyxDQUFDLEVBQUVlLEtBQUtkLENBQUMsQ0FBQyxDQUFDO1FBRXJDLFFBQVE7UUFDUixJQUFJYSxVQUFVSixXQUFXO1lBQ3ZCLE1BQU1iLElBQUlpQixVQUFVLFdBQVcsSUFBSUEsVUFBVSxVQUFVLElBQUk7WUFDM0RNLE9BQU9DLElBQUksQ0FBQzlELEtBQUtGLE1BQU0sTUFBTTJCLE9BQU9zQyxZQUFZLENBQUN6QjtZQUNqRGEsWUFBWUk7UUFDZDtRQUVBLE9BQU87UUFDUCxJQUFJRyxZQUFZTixhQUFhO1lBQzNCLE1BQU01QyxJQUFJLEtBQU9pQyxDQUFDLEdBQUcsS0FBTSxJQUFNZSxLQUFLZCxDQUFDLEdBQUc7WUFDMUNtQixPQUFPQyxJQUFJLENBQUM5RCxLQUFLRCxLQUFLLE1BQU0wQixPQUFPc0MsWUFBWSxDQUFDdkQ7WUFDaEQ0QyxjQUFjTTtRQUNoQjtRQUVBLDBDQUEwQztRQUMxQyxNQUFNQyxhQUFhbEQsS0FBS0MsR0FBRyxDQUFDLEdBQUdELEtBQUsrQixLQUFLLENBQUNhLEVBQUVsQixDQUFDLElBQUk7UUFDakQsTUFBTXlCLFlBQVluRCxLQUFLQyxHQUFHLENBQUMsR0FBR2tDLFlBQVllO1FBQzFDLE1BQU0sQ0FBQ0ssS0FBS0MsSUFBSSxHQUFHM0QsSUFBSXFEO1FBQ3ZCLE1BQU0sQ0FBQ08sS0FBS0MsSUFBSSxHQUFHN0QsSUFBSXNEO1FBQ3ZCQyxPQUFPQyxJQUFJLENBQ1Q5RCxLQUFLRCxLQUFLLE1BQU0wQixPQUFPc0MsWUFBWSxDQUFDQyxPQUFPdkMsT0FBT3NDLFlBQVksQ0FBQ0UsUUFDOUQsYUFBYTtRQUNoQkosT0FBT0MsSUFBSSxDQUNUOUQsS0FBS0QsS0FBSyxNQUFNMEIsT0FBT3NDLFlBQVksQ0FBQ0csT0FBT3pDLE9BQU9zQyxZQUFZLENBQUNJLFFBQzlELGFBQWE7UUFFaEIsZUFBZTtRQUNmTixPQUFPQyxJQUFJLENBQUMxRCxPQUFPa0Q7UUFDbkJPLE9BQU9DLElBQUksQ0FBQzlELEtBQUs7UUFFakIsb0JBQW9CO1FBQ3BCLE1BQU0sQ0FBQ29FLElBQUlDLEdBQUcsR0FBRy9ELElBQUlzQztRQUNyQmlCLE9BQU9DLElBQUksQ0FBQzlELEtBQUtELEtBQUssTUFBTSxPQUFTLFFBQVUsU0FBUztRQUN4RDhELE9BQU9DLElBQUksQ0FDVDlELEtBQUtELEtBQUssTUFBTTBCLE9BQU9zQyxZQUFZLENBQUNLLE1BQU0zQyxPQUFPc0MsWUFBWSxDQUFDTSxPQUM3RCxhQUFhO0lBQ2xCO0lBRUEsYUFBYTtJQUNiUixPQUFPQyxJQUFJLENBQUM5RCxLQUFLRixNQUFNLE1BQU07SUFDN0IrRCxPQUFPQyxJQUFJLENBQUM5RCxLQUFLRCxLQUFLLE1BQU07SUFFNUIsT0FBT0csT0FBT29FLE1BQU0sQ0FBQ1Q7QUFDdkI7QUFFQSxRQUFRO0FBQ1IsT0FBTztBQUNQLFFBQVE7QUFDRCxTQUFTVSxVQUFVLEVBQUV4QyxTQUFTLEVBQUUsRUFBRVAsT0FBTyxDQUFDLENBQUMsRUFBRW9CLFlBQVksR0FBRyxFQUFFO0lBQ25FLE1BQU1FLFVBQVVoQixXQUFXQztJQUMzQixJQUFJeUMsSUFBSTtJQUNSQSxLQUFLLENBQUMsR0FBRyxFQUFFL0QsS0FBS0MsR0FBRyxDQUFDLEdBQUdELEtBQUsrQixLQUFLLENBQUNJLFlBQVksRUFBRSxDQUFDO0lBRWpELEtBQUssTUFBTVgsS0FBS2EsUUFBUztRQUN2QixJQUFJYixFQUFFZSxJQUFJLEtBQUssVUFBVSxDQUFDLENBQUNmLEVBQUVWLElBQUksSUFBSSxFQUFDLEVBQUcwQixNQUFNLEVBQUU7UUFDakQsTUFBTUssTUFBTWhDLGdCQUFnQlcsRUFBRVYsSUFBSSxFQUFFQztRQUNwQyxNQUFNVyxJQUFJMUIsS0FBS0MsR0FBRyxDQUFDLEdBQUdELEtBQUsrQixLQUFLLENBQUNQLEVBQUVFLENBQUMsSUFBSTtRQUN4QyxNQUFNRCxJQUFJekIsS0FBS0MsR0FBRyxDQUFDLEdBQUdELEtBQUsrQixLQUFLLENBQUNQLEVBQUVDLENBQUMsSUFBSTtRQUN4QyxNQUFNUSxJQUFJakMsS0FBS0MsR0FBRyxDQUFDLElBQUlELEtBQUsrQixLQUFLLENBQUNQLEVBQUV3QixRQUFRLElBQUk7UUFDaEQsTUFBTWhCLElBQUlDO1FBQ1Y4QixLQUFLLENBQUMsR0FBRyxFQUFFckMsRUFBRSxDQUFDLEVBQUVELEVBQUUsS0FBSyxFQUFFUSxFQUFFLENBQUMsRUFBRUQsRUFBRSxHQUFHLEVBQUVhLElBQUk1QixPQUFPLENBQUMsT0FBTyxLQUFLLEtBQUssQ0FBQztJQUNyRTtJQUVBOEMsS0FBSztJQUNMLE9BQU9BLEdBQUcsU0FBUztBQUNyQiIsInNvdXJjZXMiOlsid2VicGFjazovL0BwcmludGNyYWZ0L3dlYi8uL2xpYi9yZW5kZXJlcnMuanM/Nzc2ZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBhcHBzL3dlYi9saWIvcmVuZGVyZXJzLmpzXG4vLyBSZW5kZXIgZWRpdG9yIGJsb2NrcyB0byBFU0MvUE9TIChyYXcgYnl0ZXMgb3IgbW5lbW9uaWMgdGV4dCkgYW5kIFpQTCAocmF3IHRleHQpXG5cbmNvbnN0IEVTQyA9IFwiXFx4MWJcIjtcbmNvbnN0IEdTID0gXCJcXHgxZFwiO1xuXG4vLyAtLS0gaGVscGVycyAtLS1cbmNvbnN0IGJCaW4gPSAocykgPT4gQnVmZmVyLmZyb20ocywgXCJiaW5hcnlcIik7XG5jb25zdCBiQXNjaWkgPSAocykgPT4gQnVmZmVyLmZyb20ocywgXCJhc2NpaVwiKTtcbmNvbnN0IGxpbmUgPSAocyA9IFwiXCIpID0+IHMgKyBcIlxcblwiO1xuXG5mdW5jdGlvbiBuMTYodmFsKSB7XG4gIGNvbnN0IG4gPSBNYXRoLm1heCgwLCBNYXRoLmZsb29yKHZhbCB8fCAwKSk7XG4gIHJldHVybiBbbiAmIDB4ZmYsIChuID4+IDgpICYgMHhmZl07IC8vIFtuTCwgbkhdXG59XG5cbmZ1bmN0aW9uIGhleDIobikge1xuICByZXR1cm4gXCIweFwiICsgKG4gJiAweGZmKS50b1N0cmluZygxNikucGFkU3RhcnQoMiwgXCIwXCIpO1xufVxuXG5mdW5jdGlvbiBnZXQob2JqLCBwYXRoKSB7XG4gIHJldHVybiBwYXRoLnNwbGl0KFwiLlwiKS5yZWR1Y2UoKGEsIGspID0+IChhICYmIGFba10gIT0gbnVsbCA/IGFba10gOiBcIlwiKSwgb2JqKTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZUJpbmRpbmdzKHRleHQgPSBcIlwiLCBkYXRhID0ge30pIHtcbiAgcmV0dXJuIFN0cmluZyh0ZXh0KS5yZXBsYWNlKC9cXHtcXHtcXHMqKFtefV0rKVxccypcXH1cXH0vZywgKF8sIHApID0+XG4gICAgU3RyaW5nKGdldChkYXRhLCBwLnRyaW0oKSkgPz8gXCJcIilcbiAgKTtcbn1cblxuZnVuY3Rpb24gc29ydEJsb2NrcyhibG9ja3MgPSBbXSkge1xuICByZXR1cm4gWy4uLihibG9ja3MgfHwgW10pXS5zb3J0KFxuICAgIChhLCBiKSA9PiAoYS55ID8/IDApIC0gKGIueSA/PyAwKSB8fCAoYS54ID8/IDApIC0gKGIueCA/PyAwKVxuICApO1xufVxuXG4vLyByb3VnaCBtYXBwaW5nIGZvbnQgcHgg4oaSIEVTQy9QT1Mgc2l6ZSBtdWx0aXBsaWVyXG5mdW5jdGlvbiBzaXplRnJvbUZvbnQocHggPSAxNikge1xuICBjb25zdCBtID0gTWF0aC5tYXgoMSwgTWF0aC5taW4oOCwgTWF0aC5yb3VuZChweCAvIDE2KSkpO1xuICByZXR1cm4geyB3OiBtLCBoOiBtIH07XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gRVNDL1BPUyAobW5lbW9uaWMgb3IgcmF3IGJ5dGVzKVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyRXNjcG9zKHtcbiAgYmxvY2tzID0gW10sXG4gIGRhdGEgPSB7fSxcbiAgd2lkdGhEb3RzID0gNTc2LFxuICBtbmVtb25pYyA9IHRydWUsXG59KSB7XG4gIGNvbnN0IG9yZGVyZWQgPSBzb3J0QmxvY2tzKGJsb2NrcykuZmlsdGVyKFxuICAgIChiKSA9PiBiLnR5cGUgPT09IFwidGV4dFwiICYmIChiLnRleHQgPz8gXCJcIikubGVuZ3RoXG4gICk7XG5cbiAgaWYgKG1uZW1vbmljKSB7XG4gICAgbGV0IG91dCA9IFwiXCI7XG4gICAgb3V0ICs9IGxpbmUoXCIjIEVTQy9QT1MgKG1uZW1vbmljIGV4cG9ydCBmb3IgcmV2aWV3KVwiKTtcbiAgICBvdXQgKz0gbGluZShcIkVTQyBAICAgICAgICAgICAgICAgICAgOyBJbml0aWFsaXplXCIpO1xuXG4gICAgbGV0IGxhc3RBbGlnbiA9IG51bGw7XG4gICAgbGV0IGxhc3RTaXplS2V5ID0gbnVsbDtcblxuICAgIGZvciAoY29uc3QgdCBvZiBvcmRlcmVkKSB7XG4gICAgICBjb25zdCB0eHQgPSByZXNvbHZlQmluZGluZ3ModC50ZXh0LCBkYXRhKTtcbiAgICAgIGNvbnN0IGFsaWduID0gdC5hbGlnbiB8fCBcImxlZnRcIjtcbiAgICAgIGNvbnN0IHNpemUgPSBzaXplRnJvbUZvbnQodC5mb250U2l6ZSB8fCAxNik7XG4gICAgICBjb25zdCBzaXplS2V5ID0gYCR7c2l6ZS53fXgke3NpemUuaH1gO1xuXG4gICAgICAvLyBBbGlnblxuICAgICAgaWYgKGFsaWduICE9PSBsYXN0QWxpZ24pIHtcbiAgICAgICAgY29uc3QgbSA9IGFsaWduID09PSBcImNlbnRlclwiID8gMSA6IGFsaWduID09PSBcInJpZ2h0XCIgPyAyIDogMDtcbiAgICAgICAgb3V0ICs9IGxpbmUoYEVTQyBhICR7bX0gIDsgQWxpZ24gJHthbGlnbn1gKTtcbiAgICAgICAgbGFzdEFsaWduID0gYWxpZ247XG4gICAgICB9XG5cbiAgICAgIC8vIFNpemUgKEdTICEgbilcbiAgICAgIGlmIChzaXplS2V5ICE9PSBsYXN0U2l6ZUtleSkge1xuICAgICAgICBjb25zdCBuID0gKChzaXplLncgLSAxKSA8PCA0KSB8IChzaXplLmggLSAxKTtcbiAgICAgICAgb3V0ICs9IGxpbmUoYEdTICEgJHtoZXgyKG4pfSAgICAgICAgICAgOyBTaXplICR7c2l6ZS53fXhgKTtcbiAgICAgICAgbGFzdFNpemVLZXkgPSBzaXplS2V5O1xuICAgICAgfVxuXG4gICAgICAvLyBMZWZ0IGluZGVudCB2aWEgR1MgTCAvIHByaW50IGFyZWEgdmlhIEdTIFcgKHRoZW4gcmVzZXQpXG4gICAgICBjb25zdCBsZWZ0TWFyZ2luID0gTWF0aC5tYXgoMCwgTWF0aC5yb3VuZCh0LnggfHwgMCkpOyAvLyBpbmRlbnQgZnJvbSBibG9jay54XG4gICAgICBjb25zdCBhcmVhV2lkdGggPSBNYXRoLm1heCgwLCB3aWR0aERvdHMgLSBsZWZ0TWFyZ2luKTtcblxuICAgICAgb3V0ICs9IGxpbmUoXG4gICAgICAgIGBHUyBMICR7bGVmdE1hcmdpbn0gICAgICAgICAgICAgOyBMZWZ0IG1hcmdpbiA9ICR7bGVmdE1hcmdpbn0gZG90c2BcbiAgICAgICk7XG4gICAgICBvdXQgKz0gbGluZShcbiAgICAgICAgYEdTIFcgJHthcmVhV2lkdGh9ICAgICAgICAgICAgOyBQcmludCBhcmVhIHdpZHRoID0gJHthcmVhV2lkdGh9IGRvdHNgXG4gICAgICApO1xuICAgICAgb3V0ICs9IGxpbmUoYFRYVCBcIiR7dHh0LnJlcGxhY2UoL1wiL2csICdcXFxcXCInKX1cImApO1xuICAgICAgb3V0ICs9IGxpbmUoXCJMRlwiKTtcbiAgICAgIG91dCArPSBsaW5lKGBHUyBMIDAgICAgICAgICAgICAgIDsgUmVzZXQgbWFyZ2luYCk7XG4gICAgICBvdXQgKz0gbGluZShgR1MgVyAke3dpZHRoRG90c30gICAgICAgICAgICA7IFJlc2V0IGFyZWEgd2lkdGhgKTtcbiAgICB9XG5cbiAgICBvdXQgKz0gbGluZShcIkVTQyBkIDIgICAgICAgICAgICAgOyBGZWVkIDIgbGluZXNcIik7XG4gICAgb3V0ICs9IGxpbmUoXCJHUyBWIDAgICAgICAgICAgICAgIDsgQ3V0XCIpO1xuICAgIHJldHVybiBvdXQ7IC8vIHN0cmluZ1xuICB9XG5cbiAgLy8gUkFXIGJ5dGVzXG4gIGNvbnN0IGNodW5rcyA9IFtdO1xuICBjaHVua3MucHVzaChiQmluKEVTQyArIFwiQFwiKSk7IC8vIGluaXRcblxuICBsZXQgbGFzdEFsaWduID0gbnVsbDtcbiAgbGV0IGxhc3RTaXplS2V5ID0gbnVsbDtcblxuICBmb3IgKGNvbnN0IHQgb2Ygb3JkZXJlZCkge1xuICAgIGNvbnN0IHR4dCA9IHJlc29sdmVCaW5kaW5ncyh0LnRleHQsIGRhdGEpO1xuICAgIGNvbnN0IGFsaWduID0gdC5hbGlnbiB8fCBcImxlZnRcIjtcbiAgICBjb25zdCBzaXplID0gc2l6ZUZyb21Gb250KHQuZm9udFNpemUgfHwgMTYpO1xuICAgIGNvbnN0IHNpemVLZXkgPSBgJHtzaXplLnd9eCR7c2l6ZS5ofWA7XG5cbiAgICAvLyBBbGlnblxuICAgIGlmIChhbGlnbiAhPT0gbGFzdEFsaWduKSB7XG4gICAgICBjb25zdCBtID0gYWxpZ24gPT09IFwiY2VudGVyXCIgPyAxIDogYWxpZ24gPT09IFwicmlnaHRcIiA/IDIgOiAwO1xuICAgICAgY2h1bmtzLnB1c2goYkJpbihFU0MgKyBcImFcIiArIFN0cmluZy5mcm9tQ2hhckNvZGUobSkpKTtcbiAgICAgIGxhc3RBbGlnbiA9IGFsaWduO1xuICAgIH1cblxuICAgIC8vIFNpemVcbiAgICBpZiAoc2l6ZUtleSAhPT0gbGFzdFNpemVLZXkpIHtcbiAgICAgIGNvbnN0IG4gPSAoKHNpemUudyAtIDEpIDw8IDQpIHwgKHNpemUuaCAtIDEpO1xuICAgICAgY2h1bmtzLnB1c2goYkJpbihHUyArIFwiIVwiICsgU3RyaW5nLmZyb21DaGFyQ29kZShuKSkpO1xuICAgICAgbGFzdFNpemVLZXkgPSBzaXplS2V5O1xuICAgIH1cblxuICAgIC8vIFBlci1saW5lIGxlZnQgbWFyZ2luICYgcHJpbnQgYXJlYSB3aWR0aFxuICAgIGNvbnN0IGxlZnRNYXJnaW4gPSBNYXRoLm1heCgwLCBNYXRoLnJvdW5kKHQueCB8fCAwKSk7XG4gICAgY29uc3QgYXJlYVdpZHRoID0gTWF0aC5tYXgoMCwgd2lkdGhEb3RzIC0gbGVmdE1hcmdpbik7XG4gICAgY29uc3QgW2xtTCwgbG1IXSA9IG4xNihsZWZ0TWFyZ2luKTtcbiAgICBjb25zdCBbYXdMLCBhd0hdID0gbjE2KGFyZWFXaWR0aCk7XG4gICAgY2h1bmtzLnB1c2goXG4gICAgICBiQmluKEdTICsgXCJMXCIgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGxtTCkgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGxtSCkpXG4gICAgKTsgLy8gR1MgTCBuTCBuSFxuICAgIGNodW5rcy5wdXNoKFxuICAgICAgYkJpbihHUyArIFwiV1wiICsgU3RyaW5nLmZyb21DaGFyQ29kZShhd0wpICsgU3RyaW5nLmZyb21DaGFyQ29kZShhd0gpKVxuICAgICk7IC8vIEdTIFcgbkwgbkhcblxuICAgIC8vIENvbnRlbnQgKyBMRlxuICAgIGNodW5rcy5wdXNoKGJBc2NpaSh0eHQpKTtcbiAgICBjaHVua3MucHVzaChiQmluKFwiXFxuXCIpKTtcblxuICAgIC8vIFJlc2V0IG1hcmdpbi9hcmVhXG4gICAgY29uc3QgW3dMLCB3SF0gPSBuMTYod2lkdGhEb3RzKTtcbiAgICBjaHVua3MucHVzaChiQmluKEdTICsgXCJMXCIgKyBcIlxceDAwXCIgKyBcIlxceDAwXCIpKTsgLy8gR1MgTCAwXG4gICAgY2h1bmtzLnB1c2goXG4gICAgICBiQmluKEdTICsgXCJXXCIgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKHdMKSArIFN0cmluZy5mcm9tQ2hhckNvZGUod0gpKVxuICAgICk7IC8vIEdTIFcgd2lkdGhcbiAgfVxuXG4gIC8vIGZlZWQgJiBjdXRcbiAgY2h1bmtzLnB1c2goYkJpbihFU0MgKyBcImRcIiArIFwiXFx4MDJcIikpO1xuICBjaHVua3MucHVzaChiQmluKEdTICsgXCJWXCIgKyBcIlxceDAwXCIpKTtcblxuICByZXR1cm4gQnVmZmVyLmNvbmNhdChjaHVua3MpO1xufVxuXG4vLyA9PT09PVxuLy8gIFpQTFxuLy8gPT09PT1cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJacGwoeyBibG9ja3MgPSBbXSwgZGF0YSA9IHt9LCB3aWR0aERvdHMgPSA2MDAgfSkge1xuICBjb25zdCBvcmRlcmVkID0gc29ydEJsb2NrcyhibG9ja3MpO1xuICBsZXQgeiA9IFwiXlhBXFxuXCI7XG4gIHogKz0gYF5QVyR7TWF0aC5tYXgoMCwgTWF0aC5yb3VuZCh3aWR0aERvdHMpKX1cXG5gO1xuXG4gIGZvciAoY29uc3QgYiBvZiBvcmRlcmVkKSB7XG4gICAgaWYgKGIudHlwZSAhPT0gXCJ0ZXh0XCIgfHwgIShiLnRleHQgPz8gXCJcIikubGVuZ3RoKSBjb250aW51ZTtcbiAgICBjb25zdCB0eHQgPSByZXNvbHZlQmluZGluZ3MoYi50ZXh0LCBkYXRhKTtcbiAgICBjb25zdCB4ID0gTWF0aC5tYXgoMCwgTWF0aC5yb3VuZChiLnggfHwgMCkpO1xuICAgIGNvbnN0IHkgPSBNYXRoLm1heCgwLCBNYXRoLnJvdW5kKGIueSB8fCAwKSk7XG4gICAgY29uc3QgaCA9IE1hdGgubWF4KDEwLCBNYXRoLnJvdW5kKGIuZm9udFNpemUgfHwgMTYpKTtcbiAgICBjb25zdCB3ID0gaDtcbiAgICB6ICs9IGBeRk8ke3h9LCR7eX1eQTBOLCR7aH0sJHt3fV5GRCR7dHh0LnJlcGxhY2UoL1xcXi9nLCBcIiBcIil9XkZTXFxuYDtcbiAgfVxuXG4gIHogKz0gXCJeWFpcIjtcbiAgcmV0dXJuIHo7IC8vIHN0cmluZ1xufVxuIl0sIm5hbWVzIjpbIkVTQyIsIkdTIiwiYkJpbiIsInMiLCJCdWZmZXIiLCJmcm9tIiwiYkFzY2lpIiwibGluZSIsIm4xNiIsInZhbCIsIm4iLCJNYXRoIiwibWF4IiwiZmxvb3IiLCJoZXgyIiwidG9TdHJpbmciLCJwYWRTdGFydCIsImdldCIsIm9iaiIsInBhdGgiLCJzcGxpdCIsInJlZHVjZSIsImEiLCJrIiwicmVzb2x2ZUJpbmRpbmdzIiwidGV4dCIsImRhdGEiLCJTdHJpbmciLCJyZXBsYWNlIiwiXyIsInAiLCJ0cmltIiwic29ydEJsb2NrcyIsImJsb2NrcyIsInNvcnQiLCJiIiwieSIsIngiLCJzaXplRnJvbUZvbnQiLCJweCIsIm0iLCJtaW4iLCJyb3VuZCIsInciLCJoIiwicmVuZGVyRXNjcG9zIiwid2lkdGhEb3RzIiwibW5lbW9uaWMiLCJvcmRlcmVkIiwiZmlsdGVyIiwidHlwZSIsImxlbmd0aCIsIm91dCIsImxhc3RBbGlnbiIsImxhc3RTaXplS2V5IiwidCIsInR4dCIsImFsaWduIiwic2l6ZSIsImZvbnRTaXplIiwic2l6ZUtleSIsImxlZnRNYXJnaW4iLCJhcmVhV2lkdGgiLCJjaHVua3MiLCJwdXNoIiwiZnJvbUNoYXJDb2RlIiwibG1MIiwibG1IIiwiYXdMIiwiYXdIIiwid0wiLCJ3SCIsImNvbmNhdCIsInJlbmRlclpwbCIsInoiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/renderers.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next@14.2.5_react-dom@18.3.1_react@18.3.1__react@18.3.1"], () => (__webpack_exec__("(rsc)/../../node_modules/.pnpm/next@14.2.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Ftemplates%2F%5Bid%5D%2Fdownload%2Froute&page=%2Fapi%2Ftemplates%2F%5Bid%5D%2Fdownload%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftemplates%2F%5Bid%5D%2Fdownload%2Froute.js&appDir=%2FUsers%2Fricky%2FDesktop%2FPrintCraft-Studio%2Fapps%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fricky%2FDesktop%2FPrintCraft-Studio%2Fapps%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();